<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>NowInOpenHarmonyä¸Šæ¶ç¬”è®° | XBXyftx</title><meta name="author" content="XBXyftx"><meta name="copyright" content="XBXyftx"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="NowInOpenHarmonyä¸Šæ¶ç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="NowInOpenHarmonyä¸Šæ¶ç¬”è®°">
<meta property="og:url" content="https://xbxyftx.top/2025/09/27/NowInOpenHarmonyPutaway/index.html">
<meta property="og:site_name" content="XBXyftx">
<meta property="og:description" content="NowInOpenHarmonyä¸Šæ¶ç¬”è®°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xbxyftx.top/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg">
<meta property="article:published_time" content="2025-09-27T09:02:05.000Z">
<meta property="article:modified_time" content="2025-09-29T07:15:50.995Z">
<meta property="article:author" content="XBXyftx">
<meta property="article:tag" content="æŠ€æœ¯å‘">
<meta property="article:tag" content="é¸¿è’™">
<meta property="article:tag" content="é¡¹ç›®">
<meta property="article:tag" content="å¼€æºä¹‹å¤">
<meta property="article:tag" content="NowInOpenHarmony">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xbxyftx.top/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "NowInOpenHarmonyä¸Šæ¶ç¬”è®°",
  "url": "https://xbxyftx.top/2025/09/27/NowInOpenHarmonyPutaway/",
  "image": "https://xbxyftx.top/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg",
  "datePublished": "2025-09-27T09:02:05.000Z",
  "dateModified": "2025-09-29T07:15:50.995Z",
  "author": [
    {
      "@type": "Person",
      "name": "XBXyftx",
      "url": "https://github.com/XBXyftx"
    }
  ]
}</script><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://xbxyftx.top/2025/09/27/NowInOpenHarmonyPutaway/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="/css/typewriter-effect.css"><link rel="stylesheet" href="/css/entrance-popup.css"><link rel="stylesheet" href="/css/lazy-loading.css"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":2000,"languages":{"author":"ä½œè€…: XBXyftx","link":"é“¾æ¥: ","source":"æ¥æº: XBXyftx","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: '/',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'NowInOpenHarmonyä¸Šæ¶ç¬”è®°',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post',
  typewriter: 'ğŸš€ ä»å¼€æºä¹‹å¤åˆ°åº”ç”¨ä¸Šæ¶çš„å®Œæ•´å¾ç¨‹ï¼æœ¬æ–‡è®°å½•äº†NowInOpenHarmonyé¡¹ç›®ä»å¼€å‘å®Œæˆåˆ°æ­£å¼ä¸Šæ¶çš„å…¨æµç¨‹å®è·µã€‚æ·±å…¥æ¢ç´¢äº†æœåŠ¡å™¨éƒ¨ç½²çš„æŠ€æœ¯ç»†èŠ‚ï¼ŒåŒ…æ‹¬Dockerå®¹å™¨åŒ–ã€å®å¡”é¢æ¿æ“ä½œã€ç¯å¢ƒé…ç½®ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚ç‰¹åˆ«è¯¦ç»†åœ°è®°å½•äº†éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„taræ ¼å¼æŠ€æœ¯éš¾é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡å®é™…è¸©å‘ç»å†æ·±å…¥ç†è§£äº†å¾ˆå¤šæŠ€æœ¯ç»†èŠ‚çš„æœ¬è´¨åŒºåˆ«ã€‚ä»GitHubåˆ†æ”¯ç®¡ç†åˆ°UbuntuæœåŠ¡å™¨é…ç½®ï¼Œä»ç¯å¢ƒæ­å»ºåˆ°é•œåƒæ„å»ºï¼Œæ¯ä¸€ä¸ªæ­¥éª¤éƒ½æœ‰è¯¦ç»†çš„æˆªå›¾å’Œè¯´æ˜ã€‚è¿™ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯å®è·µçš„è®°å½•ï¼Œæ›´æ˜¯ä»å­¦ç”Ÿå¼€å‘è€…å‘äº§å“å¼€å‘è€…è½¬å˜çš„é‡è¦é‡Œç¨‹ç¢‘ï¼Œè§è¯äº†ç¬¬ä¸€ä¸ªæ­£å¼ä¸Šæ¶åº”ç”¨çš„è¯ç”Ÿè¿‡ç¨‹ã€‚'
}</script><script src="/js/nyan.js"></script><script>localStorage.setItem('theme','dark')</script><script>document.documentElement.setAttribute('data-theme', 'dark');</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/transpancy.css"><script> // å¼ºåˆ¶é”å®šä¸ºæš—é»‘æ¨¡å¼ localStorage.setItem('theme', 'dark'); // é˜²æ­¢å…¶ä»–è„šæœ¬è¦†ç›–æ¨¡å¼ document.documentElement.setAttribute('data-theme', 'dark'); </script><link rel="stylesheet" href="/css/styles.css"><script> document.querySelectorAll('#post-comment').forEach(el => { el.style.backgroundColor = 'rgba(255, 255, 255, 0.6)'; }); </script><link rel="twikoo" href="/css/twikoo.css"><link rel="stylesheet" href="/css/rightmenu.css"><link rel="stylesheet" href="/css/sequential-loader.css"><script src="/js/sequential-loader-config.js"></script><script src="/js/sequential-image-loader.js" defer></script><script src="/js/sequential-integration.js" defer></script><script src="/js/custom-lightbox.js" defer></script><script src="/js/nyan.js"></script><script src="/js/header-universe.js"></script><!-- æ–°å¢ç¼“å­˜ç®¡ç†è„šæœ¬ - å·²ç¦ç”¨Service Worker--><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="cat__scene"><div class="cat__main"><div class="cat__body"></div><div class="cat__body"></div><div class="cat__tail"></div><div class="cat__head"></div></div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
      setTimeout(() => {
        $loadingBox.style.display = 'none'
      }, 800)
    },
    initLoading: () => {
      $loadingBox.style.display = 'flex'
      $loadingBox.classList.remove('loaded')
      $body.style.overflow = 'hidden'
    }
  }

  preloader.initLoading()
  
  // è®¾ç½®10ç§’è¶…æ—¶
  const loadingTimeout = setTimeout(() => {
    preloader.endLoading()
  }, 10000)
  
  window.addEventListener('load', () => {
    clearTimeout(loadingTimeout)
    preloader.endLoading()
  })

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(https://bu.dusays.com/2025/07/04/6867890f5d403.png);"></div><div class="entrance-popup" id="entrance-popup"><div class="popup-content"><div class="popup-header"><span class="popup-title">æ¸©é¦¨æç¤º</span><span class="popup-close">Ã—</span></div><div class="popup-body"><div class="popup-text"></div></div></div><div class="popup-overlay"></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-close-btn"><i class="fas fa-times"></i></div><div class="avatar-img text-center"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> æ–‡åº“</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/coffer/"><i class="fa-fw fa-solid fa-key"></i><span> ç§˜å¯†åŸºåœ°</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-i"></i><span> Myself</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="/swiper/"><i class="fa-fw fa-solid fa-star-of-david"></i><span> æ˜¨æ—¥é‡ç°</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºæˆ‘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa-solid fa-comment"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/LianlianKan/"><i class="fa-fw fa-solid fa-gamepad"></i><span> è¿è¿çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/MarkdownPreview/"><i class="fa-fw fa-solid fa-file-code"></i><span> MDåœ¨çº¿ç¼–è¾‘å™¨</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/logo.png" alt="Logo"><span class="site-name">XBXyftx</span></a><a class="nav-page-title" href="/"><span class="site-name">NowInOpenHarmonyä¸Šæ¶ç¬”è®°</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> æ–‡åº“</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/coffer/"><i class="fa-fw fa-solid fa-key"></i><span> ç§˜å¯†åŸºåœ°</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-i"></i><span> Myself</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="/swiper/"><i class="fa-fw fa-solid fa-star-of-david"></i><span> æ˜¨æ—¥é‡ç°</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºæˆ‘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa-solid fa-comment"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/LianlianKan/"><i class="fa-fw fa-solid fa-gamepad"></i><span> è¿è¿çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/MarkdownPreview/"><i class="fa-fw fa-solid fa-file-code"></i><span> MDåœ¨çº¿ç¼–è¾‘å™¨</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">NowInOpenHarmonyä¸Šæ¶ç¬”è®°</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-09-27T09:02:05.000Z" title="å‘è¡¨äº 2025-09-27 17:02:05">2025-09-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-09-29T07:15:50.995Z" title="æ›´æ–°äº 2025-09-29 15:15:50">2025-09-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">11.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>45åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:100,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2025-09-29 15:15:50&quot;}" hidden></div><h2 id="NowInOpenHarmonyé¡¹ç›®ç®€ä»‹"><a href="#NowInOpenHarmonyé¡¹ç›®ç®€ä»‹" class="headerlink" title="NowInOpenHarmonyé¡¹ç›®ç®€ä»‹"></a>NowInOpenHarmonyé¡¹ç›®ç®€ä»‹</h2><p><strong>NowInOpenHarmony</strong><br>ä½œä¸ºOpenHarmonyç”Ÿæ€ä¸“å±èµ„è®¯èšåˆå¹³å°ï¼ŒNowInOpenHarmonyä¸ºå¼€å‘è€…ä¸çˆ±å¥½è€…æ‰“é€ ä¸€ç«™å¼ä¿¡æ¯æ¢çº½ã€‚ç³»ç»Ÿæ·±åº¦æ•´åˆå®˜æ–¹ç½‘ç«™åŠ¨æ€ã€æŠ€æœ¯åšå®¢å¹²è´§èµ„æºï¼Œé€šè¿‡æ™ºèƒ½çˆ¬è™«æŠ€æœ¯å®ç°å¤šæºæ•°æ®ç²¾å‡†èšåˆã€‚</p>
<p>ä¾æ‰˜å¤šçº¿ç¨‹æ¶æ„ä¸æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œæ¯30åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°å†…å®¹ï¼Œç¡®ä¿èµ„è®¯æ–°é²œåº¦çš„åŒæ—¶ï¼Œå®ç°æ— é˜»å¡æµç•…ä½“éªŒã€‚æ”¯æŒæ–°é—»åˆ†ç±»æµè§ˆã€å…³é”®è¯æœç´¢ä¸åˆ†é¡µæŸ¥çœ‹ï¼Œè®©ä½ å¿«é€Ÿæ•æ‰OpenHarmonyç‰ˆæœ¬æ›´æ–°ã€APIå‡çº§ç­‰æ ¸å¿ƒåŠ¨æ€ã€‚</p>
<p>ä»æŠ€æœ¯è§£è¯»åˆ°ç”Ÿæ€èµ„è®¯ï¼Œéšæ—¶éšåœ°æŒæ¡ä¸€æ‰‹ä¿¡æ¯ï¼Œæ˜¯OpenHarmonyç”Ÿæ€ç”¨æˆ·çš„å¿…å¤‡å·¥å…·ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/3.jpg" alt="3"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/4.jpg" alt="4"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/5.jpg" alt="5"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/6.jpg" alt="6"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/7.jpg" alt="7"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/8.jpg" alt="8"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/9.jpg" alt="9"></p>
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 20px; margin: 20px 0; color: white; position: relative; overflow: hidden; transition: all 0.3s ease; cursor: pointer; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);" onmouseover="this.style.transform='translateY(-5px) scale(1.02)'; this.style.boxShadow='0 8px 25px rgba(102, 126, 234, 0.4)'; this.style.background='linear-gradient(135deg, #7c4dff 0%, #8e24aa 100%)'" onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.3)'; this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'">
  <div style="position: relative; z-index: 2;">
    <div style="display: flex; align-items: center; margin-bottom: 16px;">
      <svg width="24" height="24" viewbox="0 0 24 24" fill="white" style="margin-right: 12px;">
        <path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
      </svg>
      <div style="margin: 0; font-size: 20px; font-weight: 600;">ifLabVibe/NowInOpenHarmony</div>
    </div>
    <p style="margin: 0 0 16px 0; opacity: 0.9; font-size: 14px;">ğŸš€ åŸºäºOpenHarmonyçš„èµ„è®¯èšåˆåº”ç”¨ - å¼€æºä¹‹å¤2025é¡¹ç›®</p>
    <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap;">
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">OpenHarmony</span>
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">ArkTS</span>
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">Python</span>
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">FastAPI</span>
    </div>
    <a href="https://github.com/ifLabVibe/NowInOpenHarmony" target="_blank" style="display: inline-flex; align-items: center; background: rgba(255,255,255,0.2); color: white; text-decoration: none; padding: 10px 16px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); font-weight: 500; transition: all 0.2s ease;" onclick="event.stopPropagation()" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='translateY(-1px)'; this.style.boxShadow='0 2px 8px rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
      <svg width="16" height="16" viewbox="0 0 24 24" fill="white" style="margin-right: 8px;">
        <path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.30.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
      </svg>
      æŸ¥çœ‹é¡¹ç›®ä»“åº“
    </a>
  </div>
</div>

<div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); border-radius: 12px; padding: 20px; margin: 20px 0; color: white; position: relative; overflow: hidden; transition: all 0.3s ease; cursor: pointer; box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);" onmouseover="this.style.transform='translateY(-5px) scale(1.02)'; this.style.boxShadow='0 8px 25px rgba(40, 167, 69, 0.4)'; this.style.background='linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%)'" onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 4px 15px rgba(40, 167, 69, 0.3)'; this.style.background='linear-gradient(135deg, #28a745 0%, #20c997 100%)'">
  <div style="position: relative; z-index: 2;">
    <div style="display: flex; align-items: center; margin-bottom: 16px;">
      <svg width="24" height="24" viewbox="0 0 1056 1024" style="margin-right: 12px;" fill="none">
        <path d="M479.663158 988.429474c-90.004211-10.24-187.553684-48.505263-247.376842-96.471579-33.953684-26.947368-90.004211-88.387368-111.023158-120.724211-64.134737-99.166316-90.004211-222.046316-70.602105-333.608421 18.863158-107.250526 63.056842-191.326316 141.20421-267.856842 135.814737-133.12 353.010526-175.157895 527.090526-101.861053 57.128421 24.252632 112.101053 58.206316 134.736843 82.997895 44.193684 49.044211 28.025263 128.808421-31.258948 158.450526-25.330526 12.395789-72.218947 12.934737-90.543158 1.077895s-35.031579-44.193684-39.343158-77.069473c-2.155789-15.629474-4.850526-28.564211-5.389473-28.564211-1.077895 0-14.551579 7.545263-29.642106 16.168421-49.583158 29.103158-64.134737 33.414737-140.126315 38.265263-39.882105 2.155789-84.075789 5.928421-97.549474 8.084211-24.791579 3.233684-54.972632-1.077895-102.938947-16.168421l-25.330527-8.084211 1.077895 52.277895c0.538947 50.661053 0 53.355789-21.557895 98.088421-28.025263 58.206316-38.265263 93.237895-42.576842 144.976842-10.24 124.496842 57.667368 217.195789 186.47579 253.844211 83.536842 23.713684 221.507368 18.863158 296.421052-10.778948 71.68-28.564211 134.736842-94.854737 134.736842-142.282105 0-19.402105-24.791579-44.193684-51.738947-50.661053-11.317895-3.233684-54.433684-7.006316-95.393684-8.623158-86.770526-3.772632-147.132632-11.856842-163.84-22.635789s-25.330526-40.96-17.785263-63.59579c7.545263-23.713684 19.402105-33.953684 54.433684-46.888421 23.713684-9.162105 40.96-10.778947 109.945263-10.778947 146.593684 0 215.578947 18.324211 269.473684 72.218947 61.978947 62.517895 68.446316 157.372632 16.168421 241.448421-77.069474 123.418947-168.151579 194.021053-291.570526 225.818948-41.498947 11.317895-151.444211 18.324211-196.176842 12.934737z" fill="#D62240"/>
      </svg>
      <div style="margin: 0; font-size: 20px; font-weight: 600;">openharmony-sig/ostest_integration_test</div>
    </div>
    <p style="margin: 0 0 16px 0; opacity: 0.9; font-size: 14px;">ğŸ‰ é¡¹ç›®å·²è¢«æ”¶å½•è‡³OpenHarmony SIGé›†æˆæµ‹è¯•ä»“åº“</p>
    <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap;">
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">âœ… å®˜æ–¹æ”¶å½•</span>
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">ğŸ”¬ é›†æˆæµ‹è¯•</span>
      <span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px; font-size: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1)'">OpenHarmony SIG</span>
    </div>
    <a href="https://gitcode.com/openharmony-sig/ostest_integration_test" target="_blank" style="display: inline-flex; align-items: center; background: rgba(255,255,255,0.2); color: white; text-decoration: none; padding: 10px 16px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); font-weight: 500; transition: all 0.2s ease;" onclick="event.stopPropagation()" onmouseover="this.style.background='rgba(255,255,255,0.35)'; this.style.transform='translateY(-1px)'; this.style.boxShadow='0 2px 8px rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
      <svg width="16" height="16" viewbox="0 0 1056 1024" style="margin-right: 8px;" fill="none">
        <path d="M479.663158 988.429474c-90.004211-10.24-187.553684-48.505263-247.376842-96.471579-33.953684-26.947368-90.004211-88.387368-111.023158-120.724211-64.134737-99.166316-90.004211-222.046316-70.602105-333.608421 18.863158-107.250526 63.056842-191.326316 141.20421-267.856842 135.814737-133.12 353.010526-175.157895 527.090526-101.861053 57.128421 24.252632 112.101053 58.206316 134.736843 82.997895 44.193684 49.044211 28.025263 128.808421-31.258948 158.450526-25.330526 12.395789-72.218947 12.934737-90.543158 1.077895s-35.031579-44.193684-39.343158-77.069473c-2.155789-15.629474-4.850526-28.564211-5.389473-28.564211-1.077895 0-14.551579 7.545263-29.642106 16.168421-49.583158 29.103158-64.134737 33.414737-140.126315 38.265263-39.882105 2.155789-84.075789 5.928421-97.549474 8.084211-24.791579 3.233684-54.972632-1.077895-102.938947-16.168421l-25.330527-8.084211 1.077895 52.277895c0.538947 50.661053 0 53.355789-21.557895 98.088421-28.025263 58.206316-38.265263 93.237895-42.576842 144.976842-10.24 124.496842 57.667368 217.195789 186.47579 253.844211 83.536842 23.713684 221.507368 18.863158 296.421052-10.778948 71.68-28.564211 134.736842-94.854737 134.736842-142.282105 0-19.402105-24.791579-44.193684-51.738947-50.661053-11.317895-3.233684-54.433684-7.006316-95.393684-8.623158-86.770526-3.772632-147.132632-11.856842-163.84-22.635789s-25.330526-40.96-17.785263-63.59579c7.545263-23.713684 19.402105-33.953684 54.433684-46.888421 23.713684-9.162105 40.96-10.778947 109.945263-10.778947 146.593684 0 215.578947 18.324211 269.473684 72.218947 61.978947 62.517895 68.446316 157.372632 16.168421 241.448421-77.069474 123.418947-168.151579 194.021053-291.570526 225.818948-41.498947 11.317895-151.444211 18.324211-196.176842 12.934737z" fill="#D62240"/>
      </svg>
      æŸ¥çœ‹å®˜æ–¹ä»“åº“
    </a>
  </div>
</div>

<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ç»å†äº†å¼€æºä¹‹å¤ä¸€ä¸ªæš‘æœŸçš„åŠªåŠ›ä¹‹åï¼ŒNowInOpenHarmonyé¡¹ç›®ä»æœ€åˆçš„ideaåˆ°ç°åœ¨å·²ç»å…·å¤‡äº†å®Œæ•´çš„åŠŸèƒ½æ¶æ„å’ŒæŠ€æœ¯å®ç°ã€‚ä»å¤§ä¸€ä¸‹åŠå­¦æœŸåœ¨æ˜¥è€•æ ¡æºè¡Œä¸Šåˆè¯†å¼€æºä¹‹å¤ï¼Œåˆ°å¤§äºŒä¸‹å†³å¿ƒå‚ä¸è¿™ä¸ªæ´»åŠ¨ï¼Œå†åˆ°ä¸‰ä¸ªæœˆçš„å¼€å‘å†ç¨‹ï¼Œè¿™ä¸ªé¡¹ç›®æ‰¿è½½äº†æˆ‘å¯¹OpenHarmonyç”Ÿæ€å»ºè®¾çš„çƒ­æƒ…å’Œå¯¹æŠ€æœ¯å®ç°çš„æ‰§ç€è¿½æ±‚ã€‚</p>
<p>éšç€é¡¹ç›®åŠŸèƒ½çš„æ—¥è¶‹å®Œå–„ï¼Œç‰¹åˆ«æ˜¯åœ¨æœ€è¿‘çš„AIè®­ç»ƒè¥ä¸­å€ŸåŠ©ClaudeCodeç­‰å…ˆè¿›å·¥å…·è¿›ä¸€æ­¥ä¼˜åŒ–äº†å¼€å‘æµç¨‹ï¼Œæˆ‘æ·±åˆ»æ„è¯†åˆ°ï¼šä¸€ä¸ªå¥½çš„é¡¹ç›®ä¸åº”è¯¥ä»…ä»…åœç•™åœ¨ä»£ç ä»“åº“é‡Œï¼Œå®ƒéœ€è¦çœŸæ­£åœ°æœåŠ¡äºç”¨æˆ·ï¼Œå‘æŒ¥å…¶åº”æœ‰çš„ä»·å€¼ã€‚æ­£å¦‚æ›¾è€å¸ˆåœ¨AIè®­ç»ƒè¥ä¸­æ‰€å¼ºè°ƒçš„ï¼Œè¦è¿›è¡Œâ€å®Œæ•´çš„è½¯ä»¶å¼€å‘æµç¨‹â€ï¼Œè€Œåº”ç”¨ä¸Šæ¶æ­£æ˜¯è¿™ä¸ªæµç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç¯èŠ‚ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘å†³å®šå°†NowInOpenHarmonyä½œä¸ºæˆ‘çš„ç¬¬ä¸€ä¸ªæ­£å¼ä¸Šæ¶åº”ç”¨ï¼Œé€šè¿‡åº”ç”¨å¸‚åœºè®©æ›´å¤šOpenHarmonyå¼€å‘è€…å’Œç”Ÿæ€å‚ä¸è€…èƒ½å¤Ÿä¾¿æ·åœ°è·å–ç›¸å…³èµ„è®¯ã€‚è¿™ä¸ä»…æ˜¯å¯¹å¼€æºä¹‹å¤æˆæœçš„æœ€å¥½å‘ˆç°ï¼Œä¹Ÿæ˜¯æˆ‘ä»å­¦ç”Ÿå¼€å‘è€…å‘äº§å“å¼€å‘è€…è½¬å˜çš„é‡è¦ä¸€æ­¥ã€‚</p>
<h2 id="åç«¯çš„æœåŠ¡å™¨éƒ¨ç½²"><a href="#åç«¯çš„æœåŠ¡å™¨éƒ¨ç½²" class="headerlink" title="åç«¯çš„æœåŠ¡å™¨éƒ¨ç½²"></a>åç«¯çš„æœåŠ¡å™¨éƒ¨ç½²</h2><p>å¯¹äºè¿™ä¸ªåº”ç”¨ä¸Šçº¿çš„ç¬¬ä¸€æ­¥å°±åœ¨äºåç«¯æœåŠ¡éœ€è¦å…ˆéƒ¨ç½²åœ¨ä¸€ä¸ªç¨³å®šè¿è¡Œçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™ä¸»è¦ä¹Ÿæ˜¯å› ä¸ºå¤§å†…ç½‘çš„è¿™ä¸ªä¸œè¥¿ã€‚IPV4åœ°å€çš„æ¯ç«­ï¼Œç›´æ¥å¯¼è‡´äº†å¤§å†…ç½‘çš„è¯ç”Ÿï¼Œè™½ç„¶IPV6å·²ç»è¯ç”Ÿäº†ï¼Œè€Œä¸”ä¹ŸæŠ•å…¥äº†ä½¿ç”¨ï¼Œä½†IPV4ä¾æ—§æ˜¯å æ®ä¸»å¯¼åœ°ä½ã€‚æƒ³è¦è®¿é—®å†…ç½‘ä¸­çš„è®¾å¤‡å°±éœ€è¦ç»è¿‡ä¸€å±‚IPæ˜ å°„æˆ–è€…æ˜¯é€šè¿‡å†…ç½‘ç©¿é€æ¥å»è¿›è¡Œè®¿é—®ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ç›´æ¥å¯¼è‡´æ— æ³•ç”¨æ²¡æœ‰å…¬ç½‘IPçš„æœºå™¨æ¥å½“ä½œæœåŠ¡ç«¯ï¼ŒC/Sçš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹æ˜¯åˆšéœ€æœ€ç›´æ¥å¯è®¿é—®çš„IPåœ°å€çš„ï¼Œç°é˜¶æ®µæ¥è¯´åªèƒ½æ˜¯ç¥ˆæ±‚IPV6å¿«å¿«æ™®åŠï¼Œèµ¶ç´§æ›¿ä»£IPV4å§ã€‚</p>
<h3 id="éœ€æ±‚å®ç°è§„èŒƒåŒ–"><a href="#éœ€æ±‚å®ç°è§„èŒƒåŒ–" class="headerlink" title="éœ€æ±‚å®ç°è§„èŒƒåŒ–"></a>éœ€æ±‚å®ç°è§„èŒƒåŒ–</h3><h4 id="issueåˆ›å»º"><a href="#issueåˆ›å»º" class="headerlink" title="issueåˆ›å»º"></a>issueåˆ›å»º</h4><p>è¿™ä¹Ÿæ˜¯è§„èŒƒåŒ–è½¯ä»¶å¼€å‘æ­¥éª¤çš„ä¸€æ­¥ã€‚</p>
<div style="
  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
  border: 1px solid #404040;
  border-left: 4px solid #28a745;
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  max-width: 500px;
">
<div style="display: flex; align-items: center; margin-bottom: 12px;">
<svg style="width: 20px; height: 20px; margin-right: 8px; fill: #28a745;" viewbox="0 0 16 16">
<path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
<path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"/>
</svg>
<span style="color: #28a745; font-size: 12px; font-weight: 600; margin-right: 8px;">OPEN</span>
<div style="margin: 0; color: #ffffff; font-size: 16px; font-weight: 600;">
<a target="_blank" rel="noopener" href="https://github.com/ifLabVibe/NowInOpenHarmony/issues/4" style="color: #ffffff; text-decoration: none;">
åç«¯dockerå®¹å™¨åŒ–éƒ¨ç½²
</a>
</div>
</div>
<div style="display: flex; align-items: center; margin-bottom: 12px;">
<span style="color: #d4d4d4; font-size: 12px; margin-right: 16px;">
#4
</span>
<span style="color: #d4d4d4; font-size: 12px; margin-right: 16px;">
ifLabVibe/NowInOpenHarmony
</span>
</div>
<p style="color: #d4d4d4; margin: 0 0 16px 0; font-size: 14px; line-height: 1.5;">
ä¸ºå®ç°NowInOpenHarmonyåº”ç”¨çš„æ­£å¼ä¸Šæ¶ï¼Œéœ€è¦å®Œæˆåç«¯æœåŠ¡å™¨éƒ¨ç½²ã€åº”ç”¨å•†åº—é€‚é…ã€ç”¨æˆ·éšç§æ”¿ç­–åˆ¶å®šç­‰å…³é”®å·¥ä½œã€‚è¿™æ˜¯ä»å¼€æºé¡¹ç›®åˆ°å•†ä¸šåŒ–åº”ç”¨çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚
</p>
<div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
<span style="display: flex; align-items: center; color: #d4d4d4; font-size: 12px;">
<svg style="width: 12px; height: 12px; margin-right: 4px; fill: #d4d4d4;" viewbox="0 0 16 16">
<path d="M8 2a.75.75 0 01.75.75v3.5h3.5a.75.75 0 010 1.5h-3.5v3.5a.75.75 0 01-1.5 0v-3.5h-3.5a.75.75 0 010-1.5h3.5v-3.5A.75.75 0 018 2z"/>
</svg>
enhancement
</span>
<span style="color: #6f42c1; font-size: 12px; background: rgba(111, 66, 193, 0.1); padding: 2px 6px; border-radius: 4px;">
åº”ç”¨ä¸Šæ¶
</span>
<span style="color: #0969da; font-size: 12px; background: rgba(9, 105, 218, 0.1); padding: 2px 6px; border-radius: 4px;">
æœåŠ¡å™¨éƒ¨ç½²
</span>
</div>
<div style="margin-top: 12px;">
<a target="_blank" rel="noopener" href="https://github.com/ifLabVibe/NowInOpenHarmony/issues/4" style="
color: #ffffff;
text-decoration: none;
font-size: 12px;
border: 1px solid #404040;
padding: 6px 12px;
border-radius: 6px;
background: rgba(255, 255, 255, 0.05);
transition: all 0.2s ease;
display: inline-block;
" onmouseover="this.style.background='rgba(255, 255, 255, 0.1)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.05)'">
æŸ¥çœ‹Issue
</a>
</div>
</div>

<h4 id="æ–°åˆ†æ”¯çš„åˆ›å»º"><a href="#æ–°åˆ†æ”¯çš„åˆ›å»º" class="headerlink" title="æ–°åˆ†æ”¯çš„åˆ›å»º"></a>æ–°åˆ†æ”¯çš„åˆ›å»º</h4><p>åœ¨<a href="/2025/06/29/OpenSourceSummer2025/">å¼€æºä¹‹å¤æ–‡ç« </a>çš„ç»“å°¾æˆ‘æ·±åº¦çš„è§£æäº†issueï¼Œprï¼Œcommitä¹‹é—´çš„å…³ç³»åŠå…¶é‡è¦æ€§ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å…ˆå»è¿›è¡Œä¸€ä¸ªæ–°åˆ†æ”¯çš„åˆ›å»ºã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">&gt; æˆ‘åˆ›å»ºäº†ä¸€ä¸ªissueï¼šhttps://github.com/ifLabVibe/NowInOpenHarmony/issues/4ï¼Œæ ‡é¢˜æ˜¯åç«¯dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼Œç°åœ¨å…ˆå»åˆ›å»ºä¸€ä¸ªæ–°çš„   </span><br><span class="line">  åˆ†æ”¯å¹¶è¿›è¡Œåˆé€‚çš„å‘½åï¼Œå°†å½“å‰çš„æ›´æ”¹éƒ½commitåˆ°æ–°çš„åˆ†æ”¯ï¼Œè®°å¾—è¦signoff</span><br><span class="line"></span><br><span class="line">â— å¥½çš„ï¼Œæˆ‘æ¥ä¸ºä½ åˆ›å»ºæ–°åˆ†æ”¯å¹¶æäº¤Dockerå®¹å™¨åŒ–çš„æ›´æ”¹ã€‚é¦–å…ˆæ£€æŸ¥å½“å‰çš„GitçŠ¶æ€ï¼š</span><br><span class="line"></span><br><span class="line">â— Bash(git status)</span><br><span class="line">  â¿  On branch fix/startup-page-font-adaptation-issue-1</span><br><span class="line">     Your branch is up to <span class="built_in">date</span> with <span class="string">&#x27;origin/fix/startup-page-font-adaptation-issue-1&#x27;</span>.</span><br><span class="line">     â€¦ +21 lines (ctrl+o to <span class="built_in">expand</span>)</span><br><span class="line"></span><br><span class="line">â— Bash(git branch)</span><br><span class="line">  â¿  * fix/startup-page-font-adaptation-issue-1</span><br><span class="line">       main</span><br><span class="line"></span><br><span class="line">â— ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯æ¥ä¸“é—¨å¤„ç†Dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼š</span><br><span class="line"></span><br><span class="line">â— Bash(git checkout -b feature/docker-containerization-deployment-issue-4)</span><br><span class="line">  â¿  Switched to a new branch <span class="string">&#x27;feature/docker-containerization-deployment-issue-4&#x27;</span></span><br><span class="line"></span><br><span class="line">â— ç°åœ¨æ·»åŠ æ‰€æœ‰Dockerç›¸å…³çš„æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">â— Bash(git add Dockerfile docker-compose.yml docker-compose.prod.yml CLAUDE.md .env.example DEPLOYMENT.md UBUNTU_DEPLOYMENT.md</span><br><span class="line">      deploy.sh nginx/)</span><br><span class="line">  â¿  (No content)</span><br><span class="line"></span><br><span class="line">â— æŸ¥çœ‹æš‚å­˜çš„æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">â— Bash(git status)</span><br><span class="line">  â¿  On branch feature/docker-containerization-deployment-issue-4</span><br><span class="line">     Changes to be committed:</span><br><span class="line">       (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">     â€¦ +18 lines (ctrl+o to <span class="built_in">expand</span>)</span><br><span class="line"></span><br><span class="line">â— ç°åœ¨ä½¿ç”¨signoffæäº¤æ›´æ”¹ï¼š</span><br><span class="line"></span><br><span class="line">â— Bash(git commit -s -m <span class="string">&quot;feat: implement complete Docker containerization deployment solutionâ€¦)</span></span><br><span class="line"><span class="string">  â¿  Interrupted Â· What should Claude do instead?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ç”¨ä¸­æ–‡</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Bash(git commit -s -m &quot;</span>feat: å®ç°å®Œæ•´çš„Dockerå®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆâ€¦)</span><br><span class="line">  â¿  [feature/docker-containerization-deployment-issue-4 521f48c] feat: å®ç°å®Œæ•´çš„Dockerå®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ</span><br><span class="line">      10 files changed, 1483 insertions(+), 45 deletions(-)</span><br><span class="line">      create mode 100644 Server/.env.example</span><br><span class="line">     â€¦ +6 lines (ctrl+o to <span class="built_in">expand</span>)</span><br><span class="line"></span><br><span class="line">â— å®Œç¾ï¼å·²æˆåŠŸåˆ›å»ºæ–°åˆ†æ”¯å¹¶æäº¤äº†æ‰€æœ‰Dockerå®¹å™¨åŒ–æ›´æ”¹ï¼š</span><br><span class="line"></span><br><span class="line">  âœ… å®Œæˆçš„æ“ä½œ</span><br><span class="line"></span><br><span class="line">  1. åˆ›å»ºæ–°åˆ†æ”¯ï¼šfeature/docker-containerization-deployment-issue-4</span><br><span class="line">  2. æäº¤äº†10ä¸ªæ–‡ä»¶ï¼š</span><br><span class="line">    - æ–°å¢ï¼š.env.example - ç¯å¢ƒå˜é‡æ¨¡æ¿</span><br><span class="line">    - æ–°å¢ï¼šDEPLOYMENT.md - å®Œæ•´éƒ¨ç½²æ–‡æ¡£</span><br><span class="line">    - æ–°å¢ï¼šUBUNTU_DEPLOYMENT.md - Ubuntuä¸“ç”¨éƒ¨ç½²æŒ‡å—</span><br><span class="line">    - æ–°å¢ï¼šdeploy.sh - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬</span><br><span class="line">    - æ–°å¢ï¼šdocker-compose.prod.yml - ç”Ÿäº§ç¯å¢ƒé…ç½®</span><br><span class="line">    - æ–°å¢ï¼šnginx/ - Nginxé…ç½®æ–‡ä»¶</span><br><span class="line">    - ä¿®æ”¹ï¼šDockerfileã€docker-compose.ymlã€CLAUDE.md</span><br><span class="line">  3. ä½¿ç”¨äº†Signed-off-byï¼Œç¬¦åˆå¼€æºé¡¹ç›®è§„èŒƒ</span><br><span class="line"></span><br><span class="line">  ğŸ“‹ æäº¤è¯¦æƒ…</span><br><span class="line"></span><br><span class="line">  - åˆ†æ”¯åç§°ï¼šfeature/docker-containerization-deployment-issue-4</span><br><span class="line">  - æäº¤å“ˆå¸Œï¼š521f48c</span><br><span class="line">  - å…³è”issueï¼š#4</span><br><span class="line">  - æ–‡ä»¶å˜æ›´ï¼š10ä¸ªæ–‡ä»¶ï¼Œ1483è¡Œæ–°å¢ï¼Œ45è¡Œä¿®æ”¹</span><br><span class="line"></span><br><span class="line">  ç°åœ¨ä½ å¯ä»¥ï¼š</span><br><span class="line">  1. æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼šgit push origin feature/docker-containerization-deployment-issue-4</span><br><span class="line">  2. åœ¨GitHubä¸Šåˆ›å»ºPull Request</span><br><span class="line">  3. å°†PRå…³è”åˆ°issue <span class="comment">#4</span></span><br><span class="line"></span><br><span class="line">  éœ€è¦æˆ‘å¸®ä½ æ¨é€åˆ°è¿œç¨‹ä»“åº“å—ï¼Ÿ</span><br><span class="line"></span><br><span class="line">&gt; æ¨é€</span><br><span class="line"></span><br><span class="line">â— Bash(git push -u origin feature/docker-containerization-deployment-issue-4)</span><br><span class="line">  â¿ branch <span class="string">&#x27;feature/docker-containerization-deployment-issue-4&#x27;</span> <span class="built_in">set</span> up to track <span class="string">&#x27;origin/feature/docker-containerization-dep</span></span><br><span class="line"><span class="string">    loyment-issue-4&#x27;</span>.</span><br><span class="line">    remote:</span><br><span class="line">    â€¦ +7 lines (ctrl+o to <span class="built_in">expand</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">â— ğŸš€ æ¨é€æˆåŠŸï¼</span><br><span class="line"></span><br><span class="line">  âœ… å®ŒæˆçŠ¶æ€</span><br><span class="line"></span><br><span class="line">  - åˆ†æ”¯å·²æ¨é€ï¼šfeature/docker-containerization-deployment-issue-4</span><br><span class="line">  - è¿œç¨‹è¿½è¸ªå·²è®¾ç½®ï¼šæœ¬åœ°åˆ†æ”¯å·²å…³è”åˆ°è¿œç¨‹åˆ†æ”¯</span><br><span class="line"></span><br><span class="line">  ğŸ”— ä¸‹ä¸€æ­¥æ“ä½œ</span><br><span class="line"></span><br><span class="line">  GitHubå·²ç»ä¸ºä½ æä¾›äº†åˆ›å»ºPull Requestçš„é“¾æ¥ï¼š</span><br><span class="line"></span><br><span class="line">  åˆ›å»ºPRé“¾æ¥ï¼š</span><br><span class="line">  https://github.com/ifLabVibe/NowInOpenHarmony/pull/new/feature/docker-containerization-deployment-issue-4</span><br><span class="line"></span><br><span class="line">  ğŸ“‹ PRå»ºè®®ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">  æ ‡é¢˜ï¼š</span><br><span class="line">  feat: å®ç°å®Œæ•´çš„Dockerå®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ (#4)</span><br><span class="line"></span><br><span class="line">  æè¿°æ¨¡æ¿ï¼š</span><br><span class="line">  <span class="comment">## æ¦‚è¿°</span></span><br><span class="line">  å®ç°äº†å®Œæ•´çš„Dockerå®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸€é”®éƒ¨ç½²ã€‚</span><br><span class="line"></span><br><span class="line">  <span class="comment">## ä¸»è¦åŠŸèƒ½</span></span><br><span class="line">  - âœ… ä¼˜åŒ–çš„Dockeré•œåƒé…ç½®</span><br><span class="line">  - âœ… å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒDocker Composeé…ç½®</span><br><span class="line">  - âœ… è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬</span><br><span class="line">  - âœ… Nginxåå‘ä»£ç†é…ç½®</span><br><span class="line">  - âœ… å®Œæ•´çš„ç›‘æ§æ ˆï¼ˆPrometheus + Grafanaï¼‰</span><br><span class="line">  - âœ… è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£</span><br><span class="line"></span><br><span class="line">  <span class="comment">## æ–‡ä»¶å˜æ›´</span></span><br><span class="line">  - æ–°å¢éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶</span><br><span class="line">  - ä¼˜åŒ–Dockerfileå®‰å…¨é…ç½®</span><br><span class="line">  - æ·»åŠ UbuntuæœåŠ¡å™¨ä¸“ç”¨éƒ¨ç½²æŒ‡å—</span><br><span class="line"></span><br><span class="line">  <span class="comment">## æµ‹è¯•</span></span><br><span class="line">  - [x] Dockeré•œåƒæ„å»ºæˆåŠŸ</span><br><span class="line">  - [x] å¼€å‘ç¯å¢ƒå¯åŠ¨æ­£å¸¸</span><br><span class="line">  - [x] ç”Ÿäº§ç¯å¢ƒé…ç½®å®Œæ•´</span><br><span class="line"></span><br><span class="line">  Fixes <span class="comment">#4</span></span><br><span class="line"></span><br><span class="line">  ç°åœ¨ä½ å¯ä»¥ç‚¹å‡»é“¾æ¥å»åˆ›å»ºPull Requestäº†ï¼</span><br></pre></td></tr></table></figure>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/2.png" alt="2"></p>
<h3 id="dockerçš„æœ¬åœ°é…ç½®"><a href="#dockerçš„æœ¬åœ°é…ç½®" class="headerlink" title="dockerçš„æœ¬åœ°é…ç½®"></a>dockerçš„æœ¬åœ°é…ç½®</h3><p>dockerè¿™ä¸ªå®¹å™¨åŒ–éƒ¨ç½²å·¥å…·æˆ‘å±äºæ˜¯çœ‹åˆ°äº†å¾ˆå¤šçš„è®²è§£è§†é¢‘è¿˜æœ‰ç›¸å…³çš„æ–‡ç« ï¼Œæˆ‘èƒ½ç†è§£ä»–æ˜¯ä¸€ä¸ªå°†è½¯ä»¶ç¨‹åºæ‰€éœ€è¦çš„ç¯å¢ƒæ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡dockerå®¹å™¨æ¥å»è¿è¡Œè¿™ä¸ªè½¯ä»¶ç¨‹åºï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ç¯å¢ƒé…ç½®çš„é—®é¢˜ï¼Œè€Œä¸”dockerå®¹å™¨ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚ä¸è¿‡æˆ‘æ˜¯å¹¶æ²¡æœ‰è¿›è¡Œè¿‡å®è·µï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡æˆ‘å†³å®šä»¥å­¦ä¹ çš„æ–¹å¼å»è¿›è¡Œå®è·µï¼Œè®©CCå¸¦ç€æˆ‘åšï¼Œè€Œä¸æ˜¯ç›´æ¥å…¨ç¨‹æ¥ç®¡ã€‚</p>
<h4 id="ä¸CCçš„ç¬¬ä¸€è½®å¯¹è¯"><a href="#ä¸CCçš„ç¬¬ä¸€è½®å¯¹è¯" class="headerlink" title="ä¸CCçš„ç¬¬ä¸€è½®å¯¹è¯"></a>ä¸CCçš„ç¬¬ä¸€è½®å¯¹è¯</h4><p>ç¬¬ä¸€è½®å¯¹è¯ä¸»è¦æ˜¯ä¸ºäº†è®©CCä¸ºæˆ‘å®Œæˆdockerçš„æœ¬åœ°é…ç½®ï¼Œä»¥ä¾¿äºå»åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br></pre></td><td class="code"><pre><span class="line">&gt; /init is analyzing your codebaseâ€¦ </span><br><span class="line"></span><br><span class="line">â— I can see there<span class="string">&#x27;s already a CLAUDE.md file in the repository. Let me read it     </span></span><br><span class="line"><span class="string">  to understand the current content and suggest improvements based on my</span></span><br><span class="line"><span class="string">  analysis of the codebase.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Read(CLAUDE.md)</span></span><br><span class="line"><span class="string">  â¿  Read 123 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Now let me analyze the current structure and check for any additional</span></span><br><span class="line"><span class="string">  important files that should be included in the CLAUDE.md.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;*.py&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 2 files (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;requirements*.txt&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 1 file (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;docker-compose*.yml&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 1 file (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;Dockerfile*&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 1 file (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Read(requirements.txt)</span></span><br><span class="line"><span class="string">  â¿  Read 10 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Read(run.py)</span></span><br><span class="line"><span class="string">  â¿  Read 242 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Let me also check if there are any environment files or other configuration:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;.env*&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 0 files </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;*.env&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 0 files </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Read(docker-compose.yml)</span></span><br><span class="line"><span class="string">  â¿  Read 65 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Now let me check the directory structure to get a complete picture:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Bash(find . -type d -name &quot;__pycache__&quot; -prune -o -type f -name &quot;*.py&quot; -print |  </span></span><br><span class="line"><span class="string">      head -20)</span></span><br><span class="line"><span class="string">  â¿  ./.venv/Lib/site-packages/aiofiles/base.py</span></span><br><span class="line"><span class="string">     ./.venv/Lib/site-packages/aiofiles/os.py</span></span><br><span class="line"><span class="string">     ./.venv/Lib/site-packages/aiofiles/ospath.py</span></span><br><span class="line"><span class="string">     â€¦ +17 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Bash(find . -maxdepth 3 -name &quot;*.py&quot; -not -path &quot;./.venv/*&quot; | sort)</span></span><br><span class="line"><span class="string">  â¿  ./api/__init__.py</span></span><br><span class="line"><span class="string">     ./api/banner.py</span></span><br><span class="line"><span class="string">     ./api/news.py</span></span><br><span class="line"><span class="string">     â€¦ +18 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Let me also check for any additional test files or configuration that may        </span></span><br><span class="line"><span class="string">  exist:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;test*&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 0 files</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Search(pattern: &quot;*test*&quot;)</span></span><br><span class="line"><span class="string">  â¿  Found 0 files</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Based on my analysis of the existing CLAUDE.md file and the codebase, I can</span></span><br><span class="line"><span class="string">  see that the current CLAUDE.md is quite comprehensive and well-structured.</span></span><br><span class="line"><span class="string">  However, I notice a few areas where it could be improved:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. Missing dependency management information - The file mentions testing but</span></span><br><span class="line"><span class="string">  doesn&#x27;</span>t include dependency installation</span><br><span class="line">  2. Missing specific testing commands - The current testing section is</span><br><span class="line">  incomplete</span><br><span class="line">  3. Missing environment configuration details - No mention of environment</span><br><span class="line">  variables</span><br><span class="line">  4. Missing linting/code quality commands - No mention of code formatting or      </span><br><span class="line">  linting tools</span><br><span class="line"></span><br><span class="line">  Let me create an improved version of the CLAUDE.md file:</span><br><span class="line"></span><br><span class="line">â— Update(CLAUDE.md)</span><br><span class="line">  â¿  Updated CLAUDE.md with 31 additions and 5 removals</span><br><span class="line">        8    </span><br><span class="line">        9    <span class="comment">## Common Development Tasks</span></span><br><span class="line">       10    </span><br><span class="line">       11 +  <span class="comment">### Environment Setup</span></span><br><span class="line">       12 +  </span><br><span class="line">       13 +  ```bash</span><br><span class="line">       14 +  <span class="comment"># Install dependencies</span></span><br><span class="line">       15 +  pip install -r requirements.txt</span><br><span class="line">       16 +  </span><br><span class="line">       17 +  <span class="comment"># Create virtual environment (recommended)</span></span><br><span class="line">       18 +  python -m venv .venv</span><br><span class="line">       19 +  <span class="comment"># On Windows:</span></span><br><span class="line">       20 +  .venv\Scripts\activate</span><br><span class="line">       21 +  <span class="comment"># On Linux/Mac:</span></span><br><span class="line">       22 +  <span class="built_in">source</span> .venv/bin/activate</span><br><span class="line">       23 +  pip install -r requirements.txt</span><br><span class="line">       24 +  ```</span><br><span class="line">       25 +  </span><br><span class="line">       26    <span class="comment">### Running the Server</span></span><br><span class="line">       27 </span><br><span class="line">       28    ```bash</span><br><span class="line">       29 -  <span class="comment"># Development server with enhanced startup script</span></span><br><span class="line">       29 +  <span class="comment"># Development server with enhanced startup script (recommended)       </span></span><br><span class="line">       30    python run.py</span><br><span class="line">       31 </span><br><span class="line">       32    <span class="comment"># Direct FastAPI development server with hot reload</span></span><br><span class="line">     ...</span><br><span class="line">       22    docker-compose down</span><br><span class="line">       23    ```</span><br><span class="line">       24 </span><br><span class="line">       25 -  <span class="comment">### Testing</span></span><br><span class="line">       25 +  <span class="comment">### Testing and Quality Assurance</span></span><br><span class="line">       26 </span><br><span class="line">       27    ```bash</span><br><span class="line">       28 -  <span class="comment"># Test date parsing functionality</span></span><br><span class="line">       29 -  python test_date_parsing.py</span><br><span class="line">       30 -  </span><br><span class="line">       28    <span class="comment"># Manual API testing - service endpoints</span></span><br><span class="line">       29    http://localhost:8001/health          <span class="comment"># Health check with cache       </span></span><br><span class="line">             status</span><br><span class="line">       30    http://localhost:8001/docs            <span class="comment"># Swagger UI</span></span><br><span class="line">            documentation</span><br><span class="line">       31    http://localhost:8001/redoc           <span class="comment"># ReDoc documentation</span></span><br><span class="line">       32 +  </span><br><span class="line">       33 +  <span class="comment"># Test specific crawler functionality manually</span></span><br><span class="line">       34 +  <span class="comment"># Note: Currently no automated test suite exists</span></span><br><span class="line">       35    ```</span><br><span class="line">       36 </span><br><span class="line">       37 +  <span class="comment">### Environment Configuration</span></span><br><span class="line">       38 +  </span><br><span class="line">       39 +  ```bash</span><br><span class="line">       40 +  <span class="comment"># Environment variables (can be set via .env file or system </span></span><br><span class="line">          + environment)</span><br><span class="line">       41 +  HOST=0.0.0.0                         <span class="comment"># Server bind address</span></span><br><span class="line">       42 +  PORT=8001                            <span class="comment"># Server port</span></span><br><span class="line">       43 +  DATABASE_URL=sqlite:///./openharmony_news.db  <span class="comment"># Database </span></span><br><span class="line">          + connection</span><br><span class="line">       44 +  LOG_LEVEL=INFO                       <span class="comment"># Logging level (DEBUG, </span></span><br><span class="line">          + INFO, WARNING, ERROR)</span><br><span class="line">       45 +  ENABLE_SCHEDULER=<span class="literal">true</span>                <span class="comment"># Enable background task         </span></span><br><span class="line">          + scheduler</span><br><span class="line">       46 +  ```</span><br><span class="line">       47 +  </span><br><span class="line">       48    <span class="comment">### Database Management</span></span><br><span class="line">       49 </span><br><span class="line">       50    ```bash</span><br><span class="line"></span><br><span class="line">     Tip: Use <span class="comment"># to memorize shortcut to quickly add to CLAUDE.md</span></span><br><span class="line"></span><br><span class="line">â— Perfect! I<span class="string">&#x27;ve successfully improved the CLAUDE.md file by adding:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. Environment Setup section: Including dependency installation and virtual      </span></span><br><span class="line"><span class="string">  environment setup instructions</span></span><br><span class="line"><span class="string">  2. Enhanced Testing section: Renamed to &quot;Testing and Quality Assurance&quot; and      </span></span><br><span class="line"><span class="string">  noted the current state of testing</span></span><br><span class="line"><span class="string">  3. Environment Configuration section: Added comprehensive list of environment    </span></span><br><span class="line"><span class="string">   variables with descriptions</span></span><br><span class="line"><span class="string">  4. Improved comments: Made the running section clearer with recommendations      </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  The existing architecture documentation and development guidelines are</span></span><br><span class="line"><span class="string">  excellent and remain unchanged, as they provide valuable insights into the       </span></span><br><span class="line"><span class="string">  multi-threaded crawling, cache system, and service patterns that would be        </span></span><br><span class="line"><span class="string">  difficult for future Claude instances to discover quickly.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  The updated CLAUDE.md now provides a more complete development workflow while    </span></span><br><span class="line"><span class="string">   maintaining the high-quality architectural documentation that was already       </span></span><br><span class="line"><span class="string">  present.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ç”¨ä¸­æ–‡å›ç­”</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— CLAUDE.mdæ–‡ä»¶å·²ç»æˆåŠŸæ›´æ–°ï¼æˆ‘æ·»åŠ äº†ä»¥ä¸‹æ”¹è¿›ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. ç¯å¢ƒè®¾ç½®éƒ¨åˆ† - æ·»åŠ äº†ä¾èµ–å®‰è£…å’Œè™šæ‹Ÿç¯å¢ƒé…ç½®è¯´æ˜</span></span><br><span class="line"><span class="string">  2. æµ‹è¯•å’Œè´¨é‡ä¿è¯éƒ¨åˆ† - é‡å‘½åå¹¶æ›´æ–°äº†æµ‹è¯•ç›¸å…³å†…å®¹ï¼Œæ³¨æ˜äº†å½“å‰æµ‹è¯•çŠ¶æ€</span></span><br><span class="line"><span class="string">  3. ç¯å¢ƒé…ç½®éƒ¨åˆ† - æ–°å¢äº†å®Œæ•´çš„ç¯å¢ƒå˜é‡åˆ—è¡¨å’Œè¯´æ˜</span></span><br><span class="line"><span class="string">  4. æ”¹è¿›çš„æ³¨é‡Š - è®©è¿è¡ŒæœåŠ¡å™¨çš„éƒ¨åˆ†æ›´åŠ æ¸…æ™°ï¼Œæ·»åŠ äº†æ¨èé€‰é¡¹</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  åŸæœ‰çš„æ¶æ„æ–‡æ¡£å’Œå¼€å‘æŒ‡å—ä¿æŒä¸å˜ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†æœ‰å…³å¤šçº¿ç¨‹çˆ¬è™«ã€ç¼“å­˜ç³»ç»Ÿå’Œæœ     </span></span><br><span class="line"><span class="string">  åŠ¡æ¨¡å¼çš„å®è´µè§è§£ï¼Œè¿™äº›å†…å®¹å¯¹æœªæ¥çš„Claudeå®ä¾‹æ¥è¯´å¾ˆéš¾å¿«é€Ÿå‘ç°ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  æ›´æ–°åçš„CLAUDE.mdç°åœ¨æä¾›äº†æ›´å®Œæ•´çš„å¼€å‘å·¥ä½œæµç¨‹ï¼ŒåŒæ—¶ä¿æŒäº†åŸæœ‰çš„é«˜è´¨é‡æ¶æ„æ–‡    </span></span><br><span class="line"><span class="string">  æ¡£ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ç°åœ¨æˆ‘éœ€è¦å°†è¿™ä¸ªåç«¯æœåŠ¡å®Œæ•´çš„ä»¥dockerçš„å½¢å¼å»è¿›è¡ŒæœåŠ¡å™¨çš„éƒ¨ç½²ï¼Œè¯·å¸®åŠ©æˆ‘ï¼Œå‘Šè¯‰   </span></span><br><span class="line"><span class="string">  æˆ‘æˆ‘è¯¥æ€ä¹ˆåšã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— æˆ‘æ¥å¸®ä½ å®Œæ•´åœ°é…ç½®Dockeréƒ¨ç½²ã€‚é¦–å…ˆè®©æˆ‘æ£€æŸ¥ç°æœ‰çš„Dockeré…ç½®æ–‡ä»¶ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Read(Dockerfile)</span></span><br><span class="line"><span class="string">  â¿  Read 53 lines (ctrl+o to expand)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨è®©æˆ‘ä¼˜åŒ–Dockerfileé…ç½®ï¼Œæ·»åŠ ä¸€äº›ç”Ÿäº§ç¯å¢ƒçš„æœ€ä½³å®è·µï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Update(Dockerfile)</span></span><br><span class="line"><span class="string">  â¿  Updated Dockerfile with 21 additions and 10 removals</span></span><br><span class="line"><span class="string">       20    # è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="string">       21    ENV PYTHONDONTWRITEBYTECODE=1 \</span></span><br><span class="line"><span class="string">       22        PYTHONUNBUFFERED=1 \</span></span><br><span class="line"><span class="string">       23 -      PYTHONPATH=/app</span></span><br><span class="line"><span class="string">       23 +      PYTHONPATH=/app \</span></span><br><span class="line"><span class="string">       24 +      HOST=0.0.0.0 \</span></span><br><span class="line"><span class="string">       25 +      PORT=8001</span></span><br><span class="line"><span class="string">       26    </span></span><br><span class="line"><span class="string">       27 +  # åˆ›å»ºéç‰¹æƒç”¨æˆ·</span></span><br><span class="line"><span class="string">       28 +  RUN groupadd -r appuser &amp;&amp; useradd -r -g appuser appuser</span></span><br><span class="line"><span class="string">       29 +  </span></span><br><span class="line"><span class="string">       30    # å®‰è£…ç³»ç»Ÿä¾èµ–</span></span><br><span class="line"><span class="string">       31    RUN apt-get update \</span></span><br><span class="line"><span class="string">       32        &amp;&amp; apt-get install -y --no-install-recommends \</span></span><br><span class="line"><span class="string">       33            gcc \</span></span><br><span class="line"><span class="string">       34            g++ \</span></span><br><span class="line"><span class="string">       35            curl \</span></span><br><span class="line"><span class="string">       36 -      &amp;&amp; rm -rf /var/lib/apt/lists/*</span></span><br><span class="line"><span class="string">       36 +          chromium \</span></span><br><span class="line"><span class="string">       37 +          chromium-driver \</span></span><br><span class="line"><span class="string">       38 +      &amp;&amp; rm -rf /var/lib/apt/lists/* \</span></span><br><span class="line"><span class="string">       39 +      &amp;&amp; apt-get clean</span></span><br><span class="line"><span class="string">       40 </span></span><br><span class="line"><span class="string">       41 -  # å¤åˆ¶ä¾èµ–æ–‡ä»¶</span></span><br><span class="line"><span class="string">       41 +  # å¤åˆ¶ä¾èµ–æ–‡ä»¶å¹¶å®‰è£…Pythonä¾èµ–</span></span><br><span class="line"><span class="string">       42    COPY requirements.txt .</span></span><br><span class="line"><span class="string">       43 +  RUN pip install --no-cache-dir --upgrade pip \</span></span><br><span class="line"><span class="string">       44 +      &amp;&amp; pip install --no-cache-dir -r requirements.txt</span></span><br><span class="line"><span class="string">       45 </span></span><br><span class="line"><span class="string">       46 -  # å®‰è£…Pythonä¾èµ–</span></span><br><span class="line"><span class="string">       47 -  RUN pip install --no-cache-dir -r requirements.txt</span></span><br><span class="line"><span class="string">       46 +  # åˆ›å»ºå¿…è¦çš„ç›®å½•</span></span><br><span class="line"><span class="string">       47 +  RUN mkdir -p logs data \</span></span><br><span class="line"><span class="string">       48 +      &amp;&amp; chown -R appuser:appuser /app</span></span><br><span class="line"><span class="string">       49 </span></span><br><span class="line"><span class="string">       50    # å¤åˆ¶åº”ç”¨ä»£ç </span></span><br><span class="line"><span class="string">       51 -  COPY . .</span></span><br><span class="line"><span class="string">       51 +  COPY --chown=appuser:appuser . .</span></span><br><span class="line"><span class="string">       52 </span></span><br><span class="line"><span class="string">       53 -  # åˆ›å»ºæ—¥å¿—ç›®å½•</span></span><br><span class="line"><span class="string">       54 -  RUN mkdir -p logs</span></span><br><span class="line"><span class="string">       55 -  </span></span><br><span class="line"><span class="string">       53    # æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="string">       54    EXPOSE 8001</span></span><br><span class="line"><span class="string">       55 </span></span><br><span class="line"><span class="string">       56    # å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string">       57 -  HEALTHCHECK --interval=30s --timeout=30s --start-period=5s</span></span><br><span class="line"><span class="string">          -   --retries=3 \</span></span><br><span class="line"><span class="string">       57 +  HEALTHCHECK --interval=30s --timeout=10s --start-period=40s</span></span><br><span class="line"><span class="string">          +   --retries=3 \</span></span><br><span class="line"><span class="string">       58        CMD curl -f http://localhost:8001/health || exit 1</span></span><br><span class="line"><span class="string">       59 </span></span><br><span class="line"><span class="string">       60 +  # åˆ‡æ¢åˆ°éç‰¹æƒç”¨æˆ·</span></span><br><span class="line"><span class="string">       61 +  USER appuser</span></span><br><span class="line"><span class="string">       62 +  </span></span><br><span class="line"><span class="string">       63    # å¯åŠ¨å‘½ä»¤</span></span><br><span class="line"><span class="string">       64    CMD [&quot;python&quot;, &quot;run.py&quot;]</span></span><br><span class="line"><span class="string">       65   \ No newline at end of file</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨è®©æˆ‘å®Œå–„docker-compose.ymlé…ç½®ï¼Œåˆ›å»ºä¸€ä¸ªæ›´å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Update(docker-compose.yml)</span></span><br><span class="line"><span class="string">  â¿  Updated docker-compose.yml with 83 additions and 29 removals</span></span><br><span class="line"><span class="string">       16    </span></span><br><span class="line"><span class="string">       17    services:</span></span><br><span class="line"><span class="string">       18      app:</span></span><br><span class="line"><span class="string">       19 -      build: .</span></span><br><span class="line"><span class="string">       19 +      build:</span></span><br><span class="line"><span class="string">       20 +        context: .</span></span><br><span class="line"><span class="string">       21 +        dockerfile: Dockerfile</span></span><br><span class="line"><span class="string">       22 +      image: nowinopen harmony-server:latest</span></span><br><span class="line"><span class="string">       23 +      container_name: openharmony-api</span></span><br><span class="line"><span class="string">       24        ports:</span></span><br><span class="line"><span class="string">       25          - &quot;8001:8001&quot;</span></span><br><span class="line"><span class="string">       26        environment:</span></span><br><span class="line"><span class="string">       27          - HOST=0.0.0.0</span></span><br><span class="line"><span class="string">       28          - PORT=8001</span></span><br><span class="line"><span class="string">       29 -        - DATABASE_URL=sqlite:///./openharmony_news.db</span></span><br><span class="line"><span class="string">       29 +        - DATABASE_URL=sqlite:///./data/openharmony_news.db</span></span><br><span class="line"><span class="string">       30          - LOG_LEVEL=INFO</span></span><br><span class="line"><span class="string">       31          - ENABLE_SCHEDULER=true</span></span><br><span class="line"><span class="string">       32 +        - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">       33        volumes:</span></span><br><span class="line"><span class="string">       34 -        - ./logs:/app/logs</span></span><br><span class="line"><span class="string">       35 -        - ./openharmony_news.db:/app/openharmony_news.db</span></span><br><span class="line"><span class="string">       34 +        - app_logs:/app/logs</span></span><br><span class="line"><span class="string">       35 +        - app_data:/app/data</span></span><br><span class="line"><span class="string">       36        restart: unless-stopped</span></span><br><span class="line"><span class="string">       37        healthcheck:</span></span><br><span class="line"><span class="string">       38          test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;,</span></span><br><span class="line"><span class="string">            &quot;http://localhost:8001/health&quot;]</span></span><br><span class="line"><span class="string">     ...</span></span><br><span class="line"><span class="string">        35          timeout: 10s</span></span><br><span class="line"><span class="string">        36          retries: 3</span></span><br><span class="line"><span class="string">        37          start_period: 40s</span></span><br><span class="line"><span class="string">        38 +      networks:</span></span><br><span class="line"><span class="string">        39 +        - openharmony_net</span></span><br><span class="line"><span class="string">        40 </span></span><br><span class="line"><span class="string">        41 -    # å¦‚æœéœ€è¦ä½¿ç”¨PostgreSQLæ•°æ®åº“ï¼Œå¯ä»¥å–æ¶ˆæ³¨é‡Šä»¥ä¸‹æœåŠ¡</span></span><br><span class="line"><span class="string">        42 -    # postgres:</span></span><br><span class="line"><span class="string">        43 -    #   image: postgres:13</span></span><br><span class="line"><span class="string">        44 -    #   environment:</span></span><br><span class="line"><span class="string">        45 -    #     POSTGRES_DB: openharmony_news</span></span><br><span class="line"><span class="string">        46 -    #     POSTGRES_USER: postgres</span></span><br><span class="line"><span class="string">        47 -    #     POSTGRES_PASSWORD: password</span></span><br><span class="line"><span class="string">        48 -    #   volumes:</span></span><br><span class="line"><span class="string">        49 -    #     - postgres_data:/var/lib/postgresql/data</span></span><br><span class="line"><span class="string">        50 -    #   ports:</span></span><br><span class="line"><span class="string">        51 -    #     - &quot;5432:5432&quot;</span></span><br><span class="line"><span class="string">        52 -    #   restart: unless-stopped</span></span><br><span class="line"><span class="string">        41 +    # PostgreSQLæ•°æ®åº“æœåŠ¡ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰</span></span><br><span class="line"><span class="string">        42 +    postgres:</span></span><br><span class="line"><span class="string">        43 +      image: postgres:15-alpine</span></span><br><span class="line"><span class="string">        44 +      container_name: openharmony-db</span></span><br><span class="line"><span class="string">        45 +      environment:</span></span><br><span class="line"><span class="string">        46 +        POSTGRES_DB: openharmony_news</span></span><br><span class="line"><span class="string">        47 +        POSTGRES_USER: postgres</span></span><br><span class="line"><span class="string">        48 +        POSTGRES_PASSWORD: $&#123;POSTGRES_PASSWORD:-openharmony2025&#125;       </span></span><br><span class="line"><span class="string">        49 +        TZ: Asia/Shanghai</span></span><br><span class="line"><span class="string">        50 +      volumes:</span></span><br><span class="line"><span class="string">        51 +        - postgres_data:/var/lib/postgresql/data</span></span><br><span class="line"><span class="string">        52 +        - ./sql/init.sql:/docker-entrypoint-initdb.d/init.sql:ro       </span></span><br><span class="line"><span class="string">        53 +      ports:</span></span><br><span class="line"><span class="string">        54 +        - &quot;5432:5432&quot;</span></span><br><span class="line"><span class="string">        55 +      restart: unless-stopped</span></span><br><span class="line"><span class="string">        56 +      healthcheck:</span></span><br><span class="line"><span class="string">        57 +        test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres&quot;]</span></span><br><span class="line"><span class="string">        58 +        interval: 10s</span></span><br><span class="line"><span class="string">        59 +        timeout: 5s</span></span><br><span class="line"><span class="string">        60 +        retries: 5</span></span><br><span class="line"><span class="string">        61 +      networks:</span></span><br><span class="line"><span class="string">        62 +        - openharmony_net</span></span><br><span class="line"><span class="string">        63 </span></span><br><span class="line"><span class="string">        64 -    # nginx:</span></span><br><span class="line"><span class="string">        65 -    #   image: nginx:alpine</span></span><br><span class="line"><span class="string">        66 -    #   ports:</span></span><br><span class="line"><span class="string">        67 -    #     - &quot;80:80&quot;</span></span><br><span class="line"><span class="string">        68 -    #     - &quot;443:443&quot;</span></span><br><span class="line"><span class="string">        69 -    #   volumes:</span></span><br><span class="line"><span class="string">        70 -    #     - ./nginx.conf:/etc/nginx/nginx.conf</span></span><br><span class="line"><span class="string">        71 -    #     - ./ssl:/etc/nginx/ssl</span></span><br><span class="line"><span class="string">        72 -    #   depends_on:</span></span><br><span class="line"><span class="string">        73 -    #     - app</span></span><br><span class="line"><span class="string">        74 -    #   restart: unless-stopped</span></span><br><span class="line"><span class="string">        64 +    # Redisç¼“å­˜æœåŠ¡ï¼ˆå¯é€‰ï¼Œç”¨äºæ›´é«˜æ€§èƒ½çš„ç¼“å­˜ï¼‰</span></span><br><span class="line"><span class="string">        65 +    redis:</span></span><br><span class="line"><span class="string">        66 +      image: redis:7-alpine</span></span><br><span class="line"><span class="string">        67 +      container_name: openharmony-redis</span></span><br><span class="line"><span class="string">        68 +      command: redis-server --appendonly yes --requirepass </span></span><br><span class="line"><span class="string">           + $&#123;REDIS_PASSWORD:-redis2025&#125;</span></span><br><span class="line"><span class="string">        69 +      ports:</span></span><br><span class="line"><span class="string">        70 +        - &quot;6379:6379&quot;</span></span><br><span class="line"><span class="string">        71 +      volumes:</span></span><br><span class="line"><span class="string">        72 +        - redis_data:/data</span></span><br><span class="line"><span class="string">        73 +      restart: unless-stopped</span></span><br><span class="line"><span class="string">        74 +      healthcheck:</span></span><br><span class="line"><span class="string">        75 +        test: [&quot;CMD&quot;, &quot;redis-cli&quot;, &quot;--raw&quot;, &quot;incr&quot;, &quot;ping&quot;]</span></span><br><span class="line"><span class="string">        76 +        interval: 10s</span></span><br><span class="line"><span class="string">        77 +        timeout: 3s</span></span><br><span class="line"><span class="string">        78 +        retries: 5</span></span><br><span class="line"><span class="string">        79 +      networks:</span></span><br><span class="line"><span class="string">        80 +        - openharmony_net</span></span><br><span class="line"><span class="string">        81 </span></span><br><span class="line"><span class="string">        82 -  # volumes:</span></span><br><span class="line"><span class="string">        83 -  #   postgres_data: </span></span><br><span class="line"><span class="string">        82   \ No newline at end of file</span></span><br><span class="line"><span class="string">        83 +    # Nginxåå‘ä»£ç†ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</span></span><br><span class="line"><span class="string">        84 +    nginx:</span></span><br><span class="line"><span class="string">        85 +      image: nginx:alpine</span></span><br><span class="line"><span class="string">        86 +      container_name: openharmony-nginx</span></span><br><span class="line"><span class="string">        87 +      ports:</span></span><br><span class="line"><span class="string">        88 +        - &quot;80:80&quot;</span></span><br><span class="line"><span class="string">        89 +        - &quot;443:443&quot;</span></span><br><span class="line"><span class="string">        90 +      volumes:</span></span><br><span class="line"><span class="string">        91 +        - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span></span><br><span class="line"><span class="string">        92 +        - ./nginx/conf.d:/etc/nginx/conf.d:ro</span></span><br><span class="line"><span class="string">        93 +        - ./ssl:/etc/nginx/ssl:ro</span></span><br><span class="line"><span class="string">        94 +        - nginx_logs:/var/log/nginx</span></span><br><span class="line"><span class="string">        95 +      depends_on:</span></span><br><span class="line"><span class="string">        96 +        - app</span></span><br><span class="line"><span class="string">        97 +      restart: unless-stopped</span></span><br><span class="line"><span class="string">        98 +      networks:</span></span><br><span class="line"><span class="string">        99 +        - openharmony_net</span></span><br><span class="line"><span class="string">       100 +  </span></span><br><span class="line"><span class="string">       101 +  volumes:</span></span><br><span class="line"><span class="string">       102 +    postgres_data:</span></span><br><span class="line"><span class="string">       103 +      driver: local</span></span><br><span class="line"><span class="string">       104 +    redis_data:</span></span><br><span class="line"><span class="string">       105 +      driver: local</span></span><br><span class="line"><span class="string">       106 +    app_logs:</span></span><br><span class="line"><span class="string">       107 +      driver: local</span></span><br><span class="line"><span class="string">       108 +    app_data:</span></span><br><span class="line"><span class="string">       109 +      driver: local</span></span><br><span class="line"><span class="string">       110 +    nginx_logs:</span></span><br><span class="line"><span class="string">       111 +      driver: local</span></span><br><span class="line"><span class="string">       112 +  </span></span><br><span class="line"><span class="string">       113 +  networks:</span></span><br><span class="line"><span class="string">       114 +    openharmony_net:</span></span><br><span class="line"><span class="string">       115 +      driver: bridge </span></span><br><span class="line"><span class="string">       116   \ No newline at end of file</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨è®©æˆ‘åˆ›å»ºç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„é…ç½®æ–‡ä»¶ã€‚é¦–å…ˆåˆ›å»ºç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(.env.example)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to .env.example</span></span><br><span class="line"><span class="string">     # NowInOpenHarmony Server ç¯å¢ƒé…ç½®ç¤ºä¾‹</span></span><br><span class="line"><span class="string">     # å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env å¹¶æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹é…ç½®</span></span><br><span class="line"><span class="string">     # æœåŠ¡å™¨é…ç½®</span></span><br><span class="line"><span class="string">     HOST=0.0.0.0</span></span><br><span class="line"><span class="string">     PORT=8001</span></span><br><span class="line"><span class="string">     LOG_LEVEL=INFO</span></span><br><span class="line"><span class="string">     DEBUG=false</span></span><br><span class="line"><span class="string">     ENABLE_SCHEDULER=true</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨åˆ›å»ºNginxé…ç½®æ–‡ä»¶ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Bash(mkdir -p nginx/conf.d)</span></span><br><span class="line"><span class="string">  â¿  (No content)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(nginx\nginx.conf)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to nginx\nginx.conf       </span></span><br><span class="line"><span class="string">     user nginx;</span></span><br><span class="line"><span class="string">     worker_processes auto;</span></span><br><span class="line"><span class="string">     error_log /var/log/nginx/error.log warn;</span></span><br><span class="line"><span class="string">     pid /var/run/nginx.pid;</span></span><br><span class="line"><span class="string">     events &#123;</span></span><br><span class="line"><span class="string">         worker_connections 1024;</span></span><br><span class="line"><span class="string">         use epoll;</span></span><br><span class="line"><span class="string">         multi_accept on;</span></span><br><span class="line"><span class="string">     &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(nginx\conf.d\openharmony.conf)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to nginx\conf.d\openharmony.conf</span></span><br><span class="line"><span class="string">     # OpenHarmony API æœåŠ¡å™¨é…ç½®</span></span><br><span class="line"><span class="string">     # ä¸Šæ¸¸æœåŠ¡å™¨å®šä¹‰</span></span><br><span class="line"><span class="string">     upstream openharmony_api &#123;</span></span><br><span class="line"><span class="string">         server app:8001;</span></span><br><span class="line"><span class="string">         # å¦‚æœæœ‰å¤šä¸ªAPIå®ä¾‹ï¼Œå¯ä»¥æ·»åŠ è´Ÿè½½å‡è¡¡</span></span><br><span class="line"><span class="string">         # server app2:8001;</span></span><br><span class="line"><span class="string">         # server app3:8001;</span></span><br><span class="line"><span class="string">     &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨åˆ›å»ºä¸€ä¸ªç”Ÿäº§ç¯å¢ƒçš„docker-composeæ–‡ä»¶ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(docker-compose.prod.yml)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to docker-compose.prod.yml</span></span><br><span class="line"><span class="string">     # ç”Ÿäº§ç¯å¢ƒ Docker Compose é…ç½®</span></span><br><span class="line"><span class="string">     version: &#x27;</span>3.8<span class="string">&#x27;</span></span><br><span class="line"><span class="string">     services:</span></span><br><span class="line"><span class="string">       app:</span></span><br><span class="line"><span class="string">         build:</span></span><br><span class="line"><span class="string">           context: .</span></span><br><span class="line"><span class="string">           dockerfile: Dockerfile</span></span><br><span class="line"><span class="string">         image: openharmony-server:prod</span></span><br><span class="line"><span class="string">         container_name: openharmony-api-prod</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— åˆ›å»ºä¸€ä¸ªç®€å•çš„éƒ¨ç½²è„šæœ¬ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(deploy.sh)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to deploy.sh   </span></span><br><span class="line"><span class="string">     #!/bin/bash</span></span><br><span class="line"><span class="string">     # OpenHarmony Server éƒ¨ç½²è„šæœ¬</span></span><br><span class="line"><span class="string">     # Copyright (c) 2025 XBXyftx</span></span><br><span class="line"><span class="string">     set -e</span></span><br><span class="line"><span class="string">     # é¢œè‰²å®šä¹‰</span></span><br><span class="line"><span class="string">     RED=&#x27;</span>\033[0;31m<span class="string">&#x27;</span></span><br><span class="line"><span class="string">     GREEN=&#x27;</span>\033[0;32m<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Bash(chmod +x deploy.sh)</span></span><br><span class="line"><span class="string">  â¿  (No content)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨è®©æˆ‘æ›´æ–°CLAUDE.mdæ–‡ä»¶ï¼Œæ·»åŠ Dockeréƒ¨ç½²çš„ç›¸å…³ä¿¡æ¯ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Update(CLAUDE.md)</span></span><br><span class="line"><span class="string">  â¿  Updated CLAUDE.md with 28 additions and 1 removal</span></span><br><span class="line"><span class="string">       60    ENABLE_SCHEDULER=true                # Enable background task </span></span><br><span class="line"><span class="string">            scheduler</span></span><br><span class="line"><span class="string">       61    ```</span></span><br><span class="line"><span class="string">       62    </span></span><br><span class="line"><span class="string">       63 +  ### Docker Deployment</span></span><br><span class="line"><span class="string">       64 +  </span></span><br><span class="line"><span class="string">       65 +  ```bash</span></span><br><span class="line"><span class="string">       66 +  # å®Œæ•´Dockeréƒ¨ç½² - ä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰</span></span><br><span class="line"><span class="string">       67 +  ./deploy.sh install          # åˆå§‹åŒ–éƒ¨ç½²ç¯å¢ƒ</span></span><br><span class="line"><span class="string">       68 +  ./deploy.sh start            # å¯åŠ¨å¼€å‘ç¯å¢ƒ</span></span><br><span class="line"><span class="string">       69 +  ./deploy.sh start prod       # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="string">       70 +  ./deploy.sh status           # æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="string">       71 +  ./deploy.sh logs app         # æŸ¥çœ‹åº”ç”¨æ—¥å¿—</span></span><br><span class="line"><span class="string">       72 +  ./deploy.sh health           # å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string">       73 +  ./deploy.sh stop             # åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="string">       74 +  </span></span><br><span class="line"><span class="string">       75 +  # æ‰‹åŠ¨Dockeréƒ¨ç½²</span></span><br><span class="line"><span class="string">       76 +  docker-compose up -d                    # å¼€å‘ç¯å¢ƒéƒ¨ç½²</span></span><br><span class="line"><span class="string">       77 +  docker-compose -f docker-compose.prod.yml up -d  # ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²       </span></span><br><span class="line"><span class="string">       78 +  docker-compose down                     # åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="string">       79 +  docker-compose logs -f app              # æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="string">       80 +  </span></span><br><span class="line"><span class="string">       81 +  # Dockeré•œåƒæ„å»º</span></span><br><span class="line"><span class="string">       82 +  docker build -t openharmony-server .</span></span><br><span class="line"><span class="string">       83 +  docker run -p 8001:8001 openharmony-server</span></span><br><span class="line"><span class="string">       84 +  ```</span></span><br><span class="line"><span class="string">       85 +  </span></span><br><span class="line"><span class="string">       86    ### Database Management</span></span><br><span class="line"><span class="string">       87 </span></span><br><span class="line"><span class="string">       88    ```bash</span></span><br><span class="line"><span class="string">       89    # Database is automatically initialized on startup</span></span><br><span class="line"><span class="string">       90 -  # SQLite file location: ./openharmony_news.db</span></span><br><span class="line"><span class="string">       90 +  # SQLite file location: ./data/openharmony_news.db</span></span><br><span class="line"><span class="string">          +   (Docker volume)</span></span><br><span class="line"><span class="string">       91    # For PostgreSQL, update DATABASE_URL in .env file</span></span><br><span class="line"><span class="string">       92 +  </span></span><br><span class="line"><span class="string">       93 +  # Dockeræ•°æ®åº“ç®¡ç†</span></span><br><span class="line"><span class="string">       94 +  docker-compose exec postgres psql -U postgres -d </span></span><br><span class="line"><span class="string">          + openharmony_news</span></span><br><span class="line"><span class="string">       95 +  ./deploy.sh backup           # æ•°æ®å¤‡ä»½</span></span><br><span class="line"><span class="string">       96    ```</span></span><br><span class="line"><span class="string">       97 </span></span><br><span class="line"><span class="string">       98    ## Architecture Overview</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">     Tip: Use # to memorize shortcut to quickly add to CLAUDE.md</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— ç°åœ¨åˆ›å»ºä¸€ä¸ªéƒ¨ç½²æŒ‡å—æ–‡æ¡£ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— Write(DEPLOYMENT.md)</span></span><br><span class="line"><span class="string">  â¿  Wrote 1 lines to DEPLOYMENT.md      </span></span><br><span class="line"><span class="string">     # OpenHarmony Server Docker éƒ¨ç½²æŒ‡å—</span></span><br><span class="line"><span class="string">     ## å¿«é€Ÿå¼€å§‹</span></span><br><span class="line"><span class="string">     ### 1. ç¯å¢ƒå‡†å¤‡</span></span><br><span class="line"><span class="string">     ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š</span></span><br><span class="line"><span class="string">     - Docker (&gt;= 20.10)</span></span><br><span class="line"><span class="string">     - Docker Compose (&gt;= 1.29)</span></span><br><span class="line"><span class="string">     - Git</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">â— å®Œç¾ï¼æˆ‘å·²ç»ä¸ºä½ å®Œæ•´é…ç½®äº†Dockeréƒ¨ç½²æ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯æˆ‘ä¸ºä½ åˆ›å»ºçš„å®Œæ•´éƒ¨ç½²ä½“ç³»ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ğŸš€ Dockeréƒ¨ç½²å®Œæ•´æ–¹æ¡ˆ</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  - Dockerfile - ä¼˜åŒ–çš„ç”Ÿäº§çº§å®¹å™¨é•œåƒ</span></span><br><span class="line"><span class="string">    - æ·»åŠ äº†éç‰¹æƒç”¨æˆ·è¿è¡Œ</span></span><br><span class="line"><span class="string">    - åŒ…å«Chromiumæ”¯æŒçˆ¬è™«åŠŸèƒ½</span></span><br><span class="line"><span class="string">    - ä¼˜åŒ–çš„å®‰å…¨é…ç½®</span></span><br><span class="line"><span class="string">  - docker-compose.yml - å¼€å‘ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="string">  - docker-compose.prod.yml - ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆåŒ…å«å®Œæ•´çš„ç›‘æ§æ ˆï¼‰</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  2. ç”Ÿäº§ç¯å¢ƒç‰¹æ€§</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  æœåŠ¡ç»„ä»¶ï¼š</span></span><br><span class="line"><span class="string">  - âœ… FastAPIåº”ç”¨æœåŠ¡</span></span><br><span class="line"><span class="string">  - âœ… PostgreSQLæ•°æ®åº“</span></span><br><span class="line"><span class="string">  - âœ… Redisç¼“å­˜</span></span><br><span class="line"><span class="string">  - âœ… Nginxåå‘ä»£ç†</span></span><br><span class="line"><span class="string">  - âœ… Prometheusç›‘æ§</span></span><br><span class="line"><span class="string">  - âœ… Grafanaå¯è§†åŒ–</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  å®‰å…¨ç‰¹æ€§ï¼š</span></span><br><span class="line"><span class="string">  - âœ… SSL/HTTPSæ”¯æŒ</span></span><br><span class="line"><span class="string">  - âœ… éç‰¹æƒç”¨æˆ·è¿è¡Œ</span></span><br><span class="line"><span class="string">  - âœ… ç½‘ç»œéš”ç¦»</span></span><br><span class="line"><span class="string">  - âœ… å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string">  - âœ… èµ„æºé™åˆ¶</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  3. ä¸€é”®éƒ¨ç½²è„šæœ¬</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  deploy.sh - åŠŸèƒ½å®Œæ•´çš„éƒ¨ç½²è„šæœ¬ï¼š</span></span><br><span class="line"><span class="string">  ./deploy.sh install     # åˆå§‹åŒ–ç¯å¢ƒ</span></span><br><span class="line"><span class="string">  ./deploy.sh start       # å¯åŠ¨å¼€å‘ç¯å¢ƒ</span></span><br><span class="line"><span class="string">  ./deploy.sh start prod  # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="string">  ./deploy.sh status      # æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line"><span class="string">  ./deploy.sh logs app    # æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="string">  ./deploy.sh backup      # æ•°æ®å¤‡ä»½</span></span><br><span class="line"><span class="string">  ./deploy.sh health      # å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  4. é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  - .env.example - ç¯å¢ƒå˜é‡æ¨¡æ¿</span></span><br><span class="line"><span class="string">  - nginx/nginx.conf - Nginxä¸»é…ç½®</span></span><br><span class="line"><span class="string">  - nginx/conf.d/openharmony.conf - ç«™ç‚¹é…ç½®</span></span><br><span class="line"><span class="string">  - DEPLOYMENT.md - è¯¦ç»†éƒ¨ç½²æ–‡æ¡£</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ğŸ“‹ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  å¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 1. å¤åˆ¶ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="string">  cp .env.example .env</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 2. ä¸€é”®éƒ¨ç½²</span></span><br><span class="line"><span class="string">  ./deploy.sh install</span></span><br><span class="line"><span class="string">  ./deploy.sh start</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 3. éªŒè¯æœåŠ¡</span></span><br><span class="line"><span class="string">  curl http://localhost:8001/health</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 1. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè®¾ç½®å¼ºå¯†ç ï¼‰</span></span><br><span class="line"><span class="string">  cp .env.example .env</span></span><br><span class="line"><span class="string">  nano .env</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 2. å‡†å¤‡SSLè¯ä¹¦</span></span><br><span class="line"><span class="string">  mkdir -p ssl</span></span><br><span class="line"><span class="string">  # å°†cert.pemå’Œkey.pemæ”¾å…¥sslç›®å½•</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 3. å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="string">  ./deploy.sh start prod</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # 4. è®¿é—®æœåŠ¡</span></span><br><span class="line"><span class="string">  # API: https://your-domain.com</span></span><br><span class="line"><span class="string">  # ç›‘æ§: http://your-domain.com:3000</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ğŸ¯ ä¸»è¦ä¼˜åŠ¿</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. å¼€ç®±å³ç”¨ - ä¸€é”®éƒ¨ç½²ï¼Œæ— éœ€å¤æ‚é…ç½®</span></span><br><span class="line"><span class="string">  2. ç”Ÿäº§å°±ç»ª - åŒ…å«å®Œæ•´çš„ç›‘æ§ã€æ—¥å¿—ã€å¤‡ä»½æ–¹æ¡ˆ</span></span><br><span class="line"><span class="string">  3. å®‰å…¨å¯é  - SSLæ”¯æŒã€æƒé™æ§åˆ¶ã€å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string">  4. æ˜“äºç»´æŠ¤ - è‡ªåŠ¨åŒ–è„šæœ¬è¦†ç›–æ‰€æœ‰è¿ç»´æ“ä½œ</span></span><br><span class="line"><span class="string">  5. å¯æ‰©å±• - æ”¯æŒè´Ÿè½½å‡è¡¡å’Œé›†ç¾¤éƒ¨ç½²</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ç°åœ¨ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™å¥—é…ç½®åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä½ çš„OpenHarmonyåç«¯æœåŠ¡äº†ï¼æœ‰ä»»ä½•é—®é¢˜    </span></span><br><span class="line"><span class="string">  éšæ—¶å‘Šè¯‰æˆ‘ã€‚</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æœ‰ä¸€ä¸ªæ ¸å¿ƒçš„æ–‡ä»¶å°±æ˜¯ä¸€é”®éƒ¨ç½²è„šæœ¬<code>deploy.sh</code>ï¼Œè¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰éƒ¨ç½²æ“ä½œï¼ŒåŒ…æ‹¬å®‰è£…ä¾èµ–ã€æ„å»ºé•œåƒã€å¯åŠ¨å®¹å™¨ç­‰ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OpenHarmony Server éƒ¨ç½²è„šæœ¬</span></span><br><span class="line"><span class="comment"># Copyright (c) 2025 XBXyftx</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢œè‰²å®šä¹‰</span></span><br><span class="line">RED=<span class="string">&#x27;\033[0;31m&#x27;</span></span><br><span class="line">GREEN=<span class="string">&#x27;\033[0;32m&#x27;</span></span><br><span class="line">YELLOW=<span class="string">&#x27;\033[1;33m&#x27;</span></span><br><span class="line">BLUE=<span class="string">&#x27;\033[0;34m&#x27;</span></span><br><span class="line">NC=<span class="string">&#x27;\033[0m&#x27;</span> <span class="comment"># No Color</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="title">log_info</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;BLUE&#125;</span>[INFO]<span class="variable">$&#123;NC&#125;</span> <span class="variable">$1</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">log_success</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;GREEN&#125;</span>[SUCCESS]<span class="variable">$&#123;NC&#125;</span> <span class="variable">$1</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">log_warning</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;YELLOW&#125;</span>[WARNING]<span class="variable">$&#123;NC&#125;</span> <span class="variable">$1</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">log_error</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;RED&#125;</span>[ERROR]<span class="variable">$&#123;NC&#125;</span> <span class="variable">$1</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥Dockeræ˜¯å¦å®‰è£…</span></span><br><span class="line"><span class="function"><span class="title">check_docker</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> ! <span class="built_in">command</span> -v docker &amp;&gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">        log_error <span class="string">&quot;Docker æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Docker&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ! <span class="built_in">command</span> -v docker-compose &amp;&gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">        log_error <span class="string">&quot;Docker Compose æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Docker Compose&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;Docker ç¯å¢ƒæ£€æŸ¥é€šè¿‡&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ç¯å¢ƒå˜é‡æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="title">check_env</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [ ! -f <span class="string">&quot;.env&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_warning <span class="string">&quot;.env æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¤åˆ¶ç¤ºä¾‹æ–‡ä»¶...&quot;</span></span><br><span class="line">        <span class="built_in">cp</span> .env.example .<span class="built_in">env</span></span><br><span class="line">        log_warning <span class="string">&quot;è¯·ç¼–è¾‘ .env æ–‡ä»¶å¹¶è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡&quot;</span></span><br><span class="line">        <span class="built_in">read</span> -p <span class="string">&quot;æ˜¯å¦è¦ç°åœ¨ç¼–è¾‘ .env æ–‡ä»¶? (y/n): &quot;</span> -n 1 -r</span><br><span class="line">        <span class="built_in">echo</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$REPLY</span> =~ ^[Yy]$ ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="variable">$&#123;EDITOR:-nano&#125;</span> .<span class="built_in">env</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¿…è¦çš„ç›®å½•</span></span><br><span class="line"><span class="function"><span class="title">create_directories</span></span>() &#123;</span><br><span class="line">    log_info <span class="string">&quot;åˆ›å»ºå¿…è¦çš„ç›®å½•...&quot;</span></span><br><span class="line">    <span class="built_in">mkdir</span> -p ssl logs data nginx/conf.d monitoring/grafana/provisioning sql redis</span><br><span class="line">    log_success <span class="string">&quot;ç›®å½•åˆ›å»ºå®Œæˆ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="function"><span class="title">build_image</span></span>() &#123;</span><br><span class="line">    log_info <span class="string">&quot;æ„å»º Docker é•œåƒ...&quot;</span></span><br><span class="line">    docker-compose build</span><br><span class="line">    log_success <span class="string">&quot;é•œåƒæ„å»ºå®Œæˆ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line"><span class="function"><span class="title">start_services</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> env_type=<span class="variable">$&#123;1:-dev&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$env_type</span>&quot;</span> = <span class="string">&quot;prod&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_info <span class="string">&quot;å¯åŠ¨ç”Ÿäº§ç¯å¢ƒæœåŠ¡...&quot;</span></span><br><span class="line">        docker-compose -f docker-compose.prod.yml up -d</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        log_info <span class="string">&quot;å¯åŠ¨å¼€å‘ç¯å¢ƒæœåŠ¡...&quot;</span></span><br><span class="line">        docker-compose up -d</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;æœåŠ¡å¯åŠ¨å®Œæˆ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="function"><span class="title">stop_services</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> env_type=<span class="variable">$&#123;1:-dev&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$env_type</span>&quot;</span> = <span class="string">&quot;prod&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_info <span class="string">&quot;åœæ­¢ç”Ÿäº§ç¯å¢ƒæœåŠ¡...&quot;</span></span><br><span class="line">        docker-compose -f docker-compose.prod.yml down</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        log_info <span class="string">&quot;åœæ­¢å¼€å‘ç¯å¢ƒæœåŠ¡...&quot;</span></span><br><span class="line">        docker-compose down</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;æœåŠ¡åœæ­¢å®Œæˆ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="function"><span class="title">status_services</span></span>() &#123;</span><br><span class="line">    log_info <span class="string">&quot;æŸ¥çœ‹æœåŠ¡çŠ¶æ€...&quot;</span></span><br><span class="line">    docker-compose ps</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="function"><span class="title">logs_services</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> service=<span class="variable">$&#123;1:-app&#125;</span></span><br><span class="line">    log_info <span class="string">&quot;æŸ¥çœ‹ <span class="variable">$&#123;service&#125;</span> æœåŠ¡æ—¥å¿—...&quot;</span></span><br><span class="line">    docker-compose logs -f <span class="variable">$service</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line"><span class="function"><span class="title">restart_services</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> env_type=<span class="variable">$&#123;1:-dev&#125;</span></span><br><span class="line">    stop_services <span class="variable">$env_type</span></span><br><span class="line">    start_services <span class="variable">$env_type</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æ•°æ®</span></span><br><span class="line"><span class="function"><span class="title">clean_data</span></span>() &#123;</span><br><span class="line">    log_warning <span class="string">&quot;è¿™å°†åˆ é™¤æ‰€æœ‰æ•°æ®å·ï¼Œç¡®è®¤è¦ç»§ç»­å—ï¼Ÿ&quot;</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;è¾“å…¥ &#x27;yes&#x27; ç¡®è®¤: &quot;</span> confirm</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$confirm</span>&quot;</span> = <span class="string">&quot;yes&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        docker-compose down -v</span><br><span class="line">        docker system prune -f</span><br><span class="line">        log_success <span class="string">&quot;æ•°æ®æ¸…ç†å®Œæˆ&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        log_info <span class="string">&quot;æ“ä½œå·²å–æ¶ˆ&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½æ•°æ®</span></span><br><span class="line"><span class="function"><span class="title">backup_data</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> backup_dir=<span class="string">&quot;backup/<span class="subst">$(date +%Y%m%d_%H%M%S)</span>&quot;</span></span><br><span class="line">    log_info <span class="string">&quot;å¤‡ä»½æ•°æ®åˆ° <span class="variable">$&#123;backup_dir&#125;</span>...&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">mkdir</span> -p <span class="variable">$backup_dir</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤‡ä»½æ•°æ®åº“</span></span><br><span class="line">    docker-compose <span class="built_in">exec</span> postgres pg_dump -U postgres openharmony_news &gt; <span class="variable">$backup_dir</span>/database.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤‡ä»½æ•°æ®å·</span></span><br><span class="line">    docker run --<span class="built_in">rm</span> -v openharmony_app_data:/data -v $(<span class="built_in">pwd</span>)/<span class="variable">$backup_dir</span>:/backup alpine tar czf /backup/app_data.tar.gz -C /data .</span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;æ•°æ®å¤‡ä»½å®Œæˆ: <span class="variable">$backup_dir</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æœåŠ¡</span></span><br><span class="line"><span class="function"><span class="title">update_services</span></span>() &#123;</span><br><span class="line">    log_info <span class="string">&quot;æ›´æ–°æœåŠ¡...&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‹‰å–æœ€æ–°ä»£ç </span></span><br><span class="line">    <span class="keyword">if</span> [ -d <span class="string">&quot;.git&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        git pull</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é‡æ–°æ„å»ºå¹¶å¯åŠ¨</span></span><br><span class="line">    docker-compose down</span><br><span class="line">    docker-compose build --no-cache</span><br><span class="line">    docker-compose up -d</span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;æœåŠ¡æ›´æ–°å®Œæˆ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="function"><span class="title">health_check</span></span>() &#123;</span><br><span class="line">    log_info <span class="string">&quot;æ‰§è¡Œå¥åº·æ£€æŸ¥...&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">sleep</span> 10  <span class="comment"># ç­‰å¾…æœåŠ¡å¯åŠ¨</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥APIå¥åº·çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">if</span> curl -f http://localhost:8001/health &gt; /dev/null 2&gt;&amp;1; <span class="keyword">then</span></span><br><span class="line">        log_success <span class="string">&quot;API æœåŠ¡å¥åº·&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        log_error <span class="string">&quot;API æœåŠ¡ä¸å¥åº·&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥æ•°æ®åº“è¿æ¥</span></span><br><span class="line">    <span class="keyword">if</span> docker-compose <span class="built_in">exec</span> postgres pg_isready -U postgres &gt; /dev/null 2&gt;&amp;1; <span class="keyword">then</span></span><br><span class="line">        log_success <span class="string">&quot;æ•°æ®åº“è¿æ¥æ­£å¸¸&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        log_error <span class="string">&quot;æ•°æ®åº“è¿æ¥å¤±è´¥&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    log_success <span class="string">&quot;å¥åº·æ£€æŸ¥é€šè¿‡&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="title">show_help</span></span>() &#123;</span><br><span class="line">    <span class="built_in">cat</span> &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">OpenHarmony Server éƒ¨ç½²è„šæœ¬</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ç”¨æ³•: $0 [å‘½ä»¤] [é€‰é¡¹]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å‘½ä»¤:</span></span><br><span class="line"><span class="string">    install         åˆå§‹åŒ–éƒ¨ç½²ï¼ˆæ£€æŸ¥ç¯å¢ƒã€åˆ›å»ºç›®å½•ã€æ„å»ºé•œåƒï¼‰</span></span><br><span class="line"><span class="string">    start [env]     å¯åŠ¨æœåŠ¡ (env: dev|prodï¼Œé»˜è®¤dev)</span></span><br><span class="line"><span class="string">    stop [env]      åœæ­¢æœåŠ¡ (env: dev|prodï¼Œé»˜è®¤dev)</span></span><br><span class="line"><span class="string">    restart [env]   é‡å¯æœåŠ¡ (env: dev|prodï¼Œé»˜è®¤dev)</span></span><br><span class="line"><span class="string">    status          æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="string">    logs [service]  æŸ¥çœ‹æœåŠ¡æ—¥å¿— (service: app|postgres|nginx|redis)</span></span><br><span class="line"><span class="string">    update          æ›´æ–°æœåŠ¡</span></span><br><span class="line"><span class="string">    backup          å¤‡ä»½æ•°æ®</span></span><br><span class="line"><span class="string">    clean           æ¸…ç†æ‰€æœ‰æ•°æ®ï¼ˆå±é™©æ“ä½œï¼‰</span></span><br><span class="line"><span class="string">    health          å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string">    help            æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ç¤ºä¾‹:</span></span><br><span class="line"><span class="string">    $0 install              # åˆå§‹åŒ–éƒ¨ç½²</span></span><br><span class="line"><span class="string">    $0 start                # å¯åŠ¨å¼€å‘ç¯å¢ƒ</span></span><br><span class="line"><span class="string">    $0 start prod           # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="string">    $0 logs app             # æŸ¥çœ‹åº”ç”¨æ—¥å¿—</span></span><br><span class="line"><span class="string">    $0 backup               # å¤‡ä»½æ•°æ®</span></span><br><span class="line"><span class="string">    $0 health               # å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">        install)</span><br><span class="line">            check_docker</span><br><span class="line">            check_env</span><br><span class="line">            create_directories</span><br><span class="line">            build_image</span><br><span class="line">            log_success <span class="string">&quot;å®‰è£…å®Œæˆï¼Œä½¿ç”¨ &#x27;<span class="variable">$0</span> start&#x27; å¯åŠ¨æœåŠ¡&quot;</span></span><br><span class="line">            ;;</span><br><span class="line">        start)</span><br><span class="line">            start_services <span class="variable">$2</span></span><br><span class="line">            <span class="built_in">sleep</span> 5</span><br><span class="line">            health_check</span><br><span class="line">            ;;</span><br><span class="line">        stop)</span><br><span class="line">            stop_services <span class="variable">$2</span></span><br><span class="line">            ;;</span><br><span class="line">        restart)</span><br><span class="line">            restart_services <span class="variable">$2</span></span><br><span class="line">            <span class="built_in">sleep</span> 5</span><br><span class="line">            health_check</span><br><span class="line">            ;;</span><br><span class="line">        status)</span><br><span class="line">            status_services</span><br><span class="line">            ;;</span><br><span class="line">        logs)</span><br><span class="line">            logs_services <span class="variable">$2</span></span><br><span class="line">            ;;</span><br><span class="line">        update)</span><br><span class="line">            update_services</span><br><span class="line">            ;;</span><br><span class="line">        backup)</span><br><span class="line">            backup_data</span><br><span class="line">            ;;</span><br><span class="line">        clean)</span><br><span class="line">            clean_data</span><br><span class="line">            ;;</span><br><span class="line">        health)</span><br><span class="line">            health_check</span><br><span class="line">            ;;</span><br><span class="line">        <span class="built_in">help</span>|--<span class="built_in">help</span>|-h)</span><br><span class="line">            show_help</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            log_error <span class="string">&quot;æœªçŸ¥å‘½ä»¤: <span class="variable">$1</span>&quot;</span></span><br><span class="line">            show_help</span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">            ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œä¸»å‡½æ•°</span></span><br><span class="line">main <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè„šæœ¬æ˜¯ä¸€ä¸ªç”¨äºéƒ¨ç½²OpenHarmony Serverçš„Shellè„šæœ¬ã€‚å®ƒåŒ…å«äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li>æ£€æŸ¥Dockerç¯å¢ƒæ˜¯å¦å®‰è£…ã€‚</li>
<li>æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®ã€‚</li>
<li>åˆ›å»ºå¿…è¦çš„ç›®å½•ã€‚</li>
<li>æ„å»ºDockeré•œåƒã€‚</li>
<li>å¯åŠ¨å’Œåœæ­¢æœåŠ¡ã€‚</li>
<li>æŸ¥çœ‹æœåŠ¡çŠ¶æ€å’Œæ—¥å¿—ã€‚</li>
<li>æ›´æ–°æœåŠ¡ã€‚</li>
<li>å¤‡ä»½æ•°æ®ã€‚</li>
<li>æ¸…ç†æ•°æ®ã€‚</li>
<li>å¥åº·æ£€æŸ¥ã€‚</li>
<li>æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚</li>
</ol>
<p>è¿™ä¸ªæ—¶å€™æˆ‘æœ‰æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘å¼€å‘çš„ç”µè„‘ç¯å¢ƒæ˜¯Windowsï¼Œä½†æ˜¯æœåŠ¡å™¨æ˜¯Ubuntuï¼Œæˆ‘æ€•è¿™ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘å†³å®šå†å‘CCå»ç¡®å®šä¸€ä¸‹ã€‚</p>
<h4 id="ç¡®è®¤Ubuntuç¯å¢ƒ"><a href="#ç¡®è®¤Ubuntuç¯å¢ƒ" class="headerlink" title="ç¡®è®¤Ubuntuç¯å¢ƒ"></a>ç¡®è®¤Ubuntuç¯å¢ƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&gt; æˆ‘è¦éƒ¨ç½²çš„æ˜¯Ubuntuç¯å¢ƒçš„æœåŠ¡å™¨ï¼Œç°åœ¨çš„è¿™å¥—é…ç½®æ²¡é—®é¢˜å§</span><br><span class="line"></span><br><span class="line">â— è¿™å¥—é…ç½®å®Œå…¨é€‚ç”¨äºUbuntuæœåŠ¡å™¨ï¼æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œé…ç½®éƒ½æ˜¯è·¨å¹³å°çš„ï¼Œä½†è®©æˆ‘é’ˆå¯¹Ubuntuç¯å¢ƒåšä¸€äº›å°çš„ä¼˜åŒ–ï¼š</span><br><span class="line"></span><br><span class="line">â— Read(deploy.sh)</span><br><span class="line">  â¿  Read 20 lines (ctrl+o to <span class="built_in">expand</span>)</span><br><span class="line"></span><br><span class="line">â— ç°æœ‰é…ç½®åœ¨Ubuntuä¸Šå®Œå…¨æ²¡é—®é¢˜ï¼ä¸è¿‡è®©æˆ‘ä¸ºUbuntuç¯å¢ƒæ·»åŠ ä¸€ä¸ªä¸“é—¨çš„éƒ¨ç½²æŒ‡å—ï¼š</span><br><span class="line"></span><br><span class="line">â— Write(UBUNTU_DEPLOYMENT.md)</span><br><span class="line">  â¿  Wrote 1 lines to UBUNTU_DEPLOYMENT.md        </span><br><span class="line">     <span class="comment"># UbuntuæœåŠ¡å™¨éƒ¨ç½²æŒ‡å—</span></span><br><span class="line">     <span class="comment">## æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡</span></span><br><span class="line">     <span class="comment">### 1. ç³»ç»Ÿè¦æ±‚</span></span><br><span class="line">     - Ubuntu 18.04+ (æ¨è 20.04 LTS æˆ– 22.04 LTS)</span><br><span class="line">     - æœ€å°2GB RAMï¼Œæ¨è4GB+</span><br><span class="line">     - è‡³å°‘20GBå¯ç”¨ç£ç›˜ç©ºé—´</span><br><span class="line">     - ç¨³å®šçš„ç½‘ç»œè¿æ¥</span><br><span class="line"></span><br><span class="line">â— å®Œå…¨æ²¡é—®é¢˜ï¼è¿™å¥—Dockeré…ç½®éå¸¸é€‚åˆUbuntuæœåŠ¡å™¨ã€‚æˆ‘åˆšåˆšä¸ºä½ åˆ›å»ºäº†ä¸“é—¨çš„Ubuntuéƒ¨ç½²æŒ‡å—ï¼Œæ¶µç›–äº†ï¼š</span><br><span class="line"></span><br><span class="line">  âœ… Ubuntuå…¼å®¹æ€§ç¡®è®¤</span><br><span class="line"></span><br><span class="line">  ç°æœ‰é…ç½®çš„Ubuntuå…¼å®¹æ€§ï¼š</span><br><span class="line">  - âœ… Dockerfile - åŸºäºå®˜æ–¹Pythoné•œåƒï¼Œå®Œå…¨å…¼å®¹</span><br><span class="line">  - âœ… docker-compose.yml - æ ‡å‡†é…ç½®ï¼Œè·¨å¹³å°é€šç”¨</span><br><span class="line">  - âœ… deploy.sh - Bashè„šæœ¬ï¼ŒUbuntuåŸç”Ÿæ”¯æŒ</span><br><span class="line">  - âœ… Nginxé…ç½® - æ ‡å‡†é…ç½®ï¼Œå®Œå…¨å…¼å®¹</span><br><span class="line"></span><br><span class="line">  ğŸš€ Ubuntuä¸“å±ä¼˜åŒ–</span><br><span class="line"></span><br><span class="line">  æˆ‘é¢å¤–åˆ›å»ºäº† UBUNTU_DEPLOYMENT.mdï¼ŒåŒ…å«ï¼š</span><br><span class="line"></span><br><span class="line">  1. å®Œæ•´ç¯å¢ƒæ­å»º</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä¸€é”®å®‰è£…Dockerå’ŒDocker Compose</span></span><br><span class="line">  <span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br><span class="line">  <span class="comment"># è‡ªåŠ¨åŒ–Dockerå®‰è£…è„šæœ¬</span></span><br><span class="line"></span><br><span class="line">  2. Ubuntuæœ€ä½³å®è·µ</span><br><span class="line"></span><br><span class="line">  - UFWé˜²ç«å¢™é…ç½®</span><br><span class="line">  - systemdæœåŠ¡é›†æˆ</span><br><span class="line">  - æ—¥å¿—è½®è½¬é…ç½®</span><br><span class="line">  - Let<span class="string">&#x27;s Encrypt SSLè¯ä¹¦</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  3. æ€§èƒ½ä¼˜åŒ–</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  - å†…æ ¸å‚æ•°è°ƒä¼˜</span></span><br><span class="line"><span class="string">  - Dockerå®ˆæŠ¤è¿›ç¨‹ä¼˜åŒ–</span></span><br><span class="line"><span class="string">  - äº¤æ¢æ–‡ä»¶é…ç½®</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  4. ç”Ÿäº§ç¯å¢ƒå¢å¼º</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  # æ¨èçš„Ubuntuéƒ¨ç½²æµç¨‹ï¼š</span></span><br><span class="line"><span class="string">  sudo mkdir -p /opt/openharmony-server</span></span><br><span class="line"><span class="string">  cd /opt/openharmony-server</span></span><br><span class="line"><span class="string">  git clone &lt;your-repo&gt; .</span></span><br><span class="line"><span class="string">  ./deploy.sh install</span></span><br><span class="line"><span class="string">  ./deploy.sh start prod</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ğŸ”§ UbuntuæœåŠ¡å™¨ç‰¹æ®Šè€ƒè™‘</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  1. ç”¨æˆ·æƒé™ï¼šå·²é…ç½®Dockerç”¨æˆ·ç»„ï¼Œé¿å…sudo</span></span><br><span class="line"><span class="string">  2. é˜²ç«å¢™ï¼šUFWé…ç½®å¼€æ”¾80/443ç«¯å£</span></span><br><span class="line"><span class="string">  3. SSLè¯ä¹¦ï¼šæ”¯æŒLet&#x27;</span>s Encryptè‡ªåŠ¨ç»­æœŸ</span><br><span class="line">  4. ç³»ç»ŸæœåŠ¡ï¼šå¯æ³¨å†Œä¸ºsystemdæœåŠ¡å¼€æœºè‡ªå¯</span><br><span class="line"></span><br><span class="line">  ä½ ç°åœ¨å¯ä»¥ç›´æ¥åœ¨UbuntuæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™å¥—é…ç½®ï¼Œå®Œå…¨æ— éœ€ä¿®æ”¹ï¼éœ€è¦æˆ‘è¯¦ç»†è§£é‡Šä»»ä½•éƒ¨åˆ†å—ï¼Ÿ</span><br></pre></td></tr></table></figure>
<h3 id="æœåŠ¡å™¨ç«¯å‡†å¤‡"><a href="#æœåŠ¡å™¨ç«¯å‡†å¤‡" class="headerlink" title="æœåŠ¡å™¨ç«¯å‡†å¤‡"></a>æœåŠ¡å™¨ç«¯å‡†å¤‡</h3><p>æˆ‘æƒ³å…ˆä½¿ç”¨æˆ‘çš„åšå®¢æœåŠ¡å™¨è¿›è¡Œä¸€ä¸‹å°è¯•å¦‚æœèƒ½æˆåŠŸéƒ¨ç½²çš„è¯é‚£æˆ‘å°±å¯ä»¥ä¸ç”¨å†å•ä¹°ä¸€ä¸ªæœåŠ¡å™¨äº†ï¼Œä½†åæœŸå¦‚æœçœŸçš„ä¸Šæ¶äº†é‚£æˆ‘ç¡®å®å¯èƒ½ä¼šè€ƒè™‘æ¢ä¸€ä¸ªæ›´å¥½çš„æœåŠ¡å™¨ã€‚</p>
<h4 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&gt; æˆ‘ç°åœ¨åœ¨UbuntuæœåŠ¡å™¨çš„å®å¡”é¢æ¿ä¸Šï¼Œéœ€è¦å®‰è£…Dockerå—ï¼Ÿ</span><br><span class="line"></span><br><span class="line">â— ä¸éœ€è¦å•ç‹¬å®‰è£…ï¼å®å¡”é¢æ¿å·²ç»é›†æˆäº†Dockerç®¡ç†åŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥é€šè¿‡å®å¡”é¢æ¿æ¥å®‰è£…å’Œç®¡ç†Dockerã€‚</span><br><span class="line"></span><br><span class="line">  ğŸ‹ å®å¡”é¢æ¿Dockerå®‰è£…æ­¥éª¤</span><br><span class="line"></span><br><span class="line">  1. é€šè¿‡å®å¡”é¢æ¿å®‰è£…Docker</span><br><span class="line"></span><br><span class="line">  æ–¹æ³•ä¸€ï¼šè½¯ä»¶å•†åº—å®‰è£…ï¼ˆæ¨èï¼‰</span><br><span class="line">  å®å¡”é¢æ¿ â†’ è½¯ä»¶å•†åº— â†’ æœç´¢<span class="string">&quot;Docker&quot;</span> â†’ ç‚¹å‡»å®‰è£…</span><br><span class="line"></span><br><span class="line">  æ–¹æ³•äºŒï¼šDockerç®¡ç†å™¨</span><br><span class="line">  å®å¡”é¢æ¿ â†’ è½¯ä»¶å•†åº— â†’ æœç´¢<span class="string">&quot;Dockerç®¡ç†å™¨&quot;</span> â†’ å®‰è£…</span><br><span class="line"></span><br><span class="line">  2. éªŒè¯Dockerå®‰è£…</span><br><span class="line"></span><br><span class="line">  å®‰è£…å®Œæˆåï¼Œåœ¨SSHç»ˆç«¯éªŒè¯ï¼š</span><br><span class="line">  docker --version</span><br><span class="line">  docker-compose --version</span><br><span class="line"></span><br><span class="line">  3. å®å¡”Dockerç®¡ç†</span><br><span class="line"></span><br><span class="line">  å®‰è£…Dockerç®¡ç†å™¨åï¼Œä½ å¯ä»¥åœ¨å®å¡”é¢æ¿ä¸­ï¼š</span><br><span class="line">  - ğŸ“Š æŸ¥çœ‹å®¹å™¨çŠ¶æ€</span><br><span class="line">  - ğŸ”„ å¯åœå®¹å™¨</span><br><span class="line">  - ğŸ“ æŸ¥çœ‹æ—¥å¿—</span><br><span class="line">  - ğŸ–¥ï¸ è¿›å…¥å®¹å™¨ç»ˆç«¯</span><br><span class="line"></span><br><span class="line">  ğŸš€ åœ¨å®å¡”ç¯å¢ƒä¸‹éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">  1. åˆ›å»ºç«™ç‚¹ç›®å½•</span><br><span class="line"></span><br><span class="line">  <span class="comment"># æ–¹æ³•ä¸€ï¼šé€šè¿‡å®å¡”é¢æ¿</span></span><br><span class="line">  <span class="comment"># ç½‘ç«™ â†’ æ·»åŠ ç«™ç‚¹ â†’ é€‰æ‹©ç›®å½•</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># æ–¹æ³•äºŒï¼šSSHå‘½ä»¤è¡Œ</span></span><br><span class="line">  <span class="built_in">mkdir</span> -p /www/wwwroot/openharmony-server</span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server</span><br><span class="line"></span><br><span class="line">  2. ä¸Šä¼ ä»£ç </span><br><span class="line"></span><br><span class="line">  <span class="comment"># é€šè¿‡å®å¡”æ–‡ä»¶ç®¡ç†å™¨ä¸Šä¼ ä»£ç å‹ç¼©åŒ…</span></span><br><span class="line">  <span class="comment"># æˆ–ä½¿ç”¨Git</span></span><br><span class="line">  git <span class="built_in">clone</span> &lt;your-repository&gt; .</span><br><span class="line"></span><br><span class="line">  3. ä¿®æ”¹æƒé™</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ç¡®ä¿å®å¡”ç”¨æˆ·æœ‰æƒé™</span></span><br><span class="line">  <span class="built_in">chown</span> -R www:www /www/wwwroot/openharmony-server</span><br><span class="line">  <span class="built_in">chmod</span> +x deploy.sh</span><br><span class="line"></span><br><span class="line">  4. ç«¯å£é…ç½®æ³¨æ„äº‹é¡¹</span><br><span class="line"></span><br><span class="line">  å®å¡”é¢æ¿ç«¯å£å†²çªå¤„ç†ï¼š</span><br><span class="line">  - ğŸ”¥ 80ç«¯å£ï¼šå®å¡”é»˜è®¤è¢«Nginxå ç”¨</span><br><span class="line">  - ğŸ”¥ 443ç«¯å£ï¼šå®å¡”SSLå¯èƒ½å ç”¨</span><br><span class="line"></span><br><span class="line">  è§£å†³æ–¹æ¡ˆï¼š</span><br><span class="line">  <span class="comment"># é€‰é¡¹1ï¼šä½¿ç”¨ä¸åŒç«¯å£</span></span><br><span class="line">  <span class="comment"># ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„</span></span><br><span class="line">  ports:</span><br><span class="line">    - <span class="string">&quot;8080:80&quot;</span>   <span class="comment"># HTTPæ”¹ä¸º8080</span></span><br><span class="line">    - <span class="string">&quot;8443:443&quot;</span>  <span class="comment"># HTTPSæ”¹ä¸º8443</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># é€‰é¡¹2ï¼šåœç”¨å®å¡”Nginxï¼ˆä¸æ¨èï¼‰</span></span><br><span class="line">  systemctl stop nginx</span><br><span class="line"></span><br><span class="line">  <span class="comment"># é€‰é¡¹3ï¼šåªä½¿ç”¨APIç«¯å£ï¼Œé€šè¿‡å®å¡”åå‘ä»£ç†</span></span><br><span class="line">  ports:</span><br><span class="line">    - <span class="string">&quot;8001:8001&quot;</span>  <span class="comment"># åªæš´éœ²APIç«¯å£</span></span><br><span class="line"></span><br><span class="line">  ğŸ¯ æ¨èçš„å®å¡”éƒ¨ç½²æ–¹æ¡ˆ</span><br><span class="line"></span><br><span class="line">  æ–¹æ¡ˆä¸€ï¼šç‹¬ç«‹ç«¯å£éƒ¨ç½²ï¼ˆæ¨èæ–°æ‰‹ï¼‰</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä¿®æ”¹docker-compose.yml</span></span><br><span class="line">  services:</span><br><span class="line">    nginx:</span><br><span class="line">      ports:</span><br><span class="line">        - <span class="string">&quot;8080:80&quot;</span></span><br><span class="line">        - <span class="string">&quot;8443:443&quot;</span></span><br><span class="line">  è®¿é—®åœ°å€ï¼šhttp://your-server:8080</span><br><span class="line"></span><br><span class="line">  æ–¹æ¡ˆäºŒï¼šå®å¡”åå‘ä»£ç†ï¼ˆæ¨èç”Ÿäº§ï¼‰</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 1. åªæš´éœ²APIç«¯å£</span></span><br><span class="line">  services:</span><br><span class="line">    app:</span><br><span class="line">      ports:</span><br><span class="line">        - <span class="string">&quot;8001:8001&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 2. åœ¨å®å¡”é¢æ¿åˆ›å»ºåå‘ä»£ç†</span></span><br><span class="line">  <span class="comment"># ç½‘ç«™ â†’ æ·»åŠ ç«™ç‚¹ â†’ åå‘ä»£ç†</span></span><br><span class="line">  <span class="comment"># ç›®æ ‡URL: http://127.0.0.1:8001</span></span><br><span class="line"></span><br><span class="line">  æ–¹æ¡ˆä¸‰ï¼šæ›¿æ¢å®å¡”Nginxï¼ˆæ¨èé«˜çº§ç”¨æˆ·ï¼‰</span><br><span class="line"></span><br><span class="line">  <span class="comment"># åœæ­¢å®å¡”Nginx</span></span><br><span class="line">  systemctl stop nginx</span><br><span class="line">  systemctl <span class="built_in">disable</span> nginx</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä½¿ç”¨Docker Nginx</span></span><br><span class="line">  ./deploy.sh start prod</span><br><span class="line"></span><br><span class="line">  ğŸ“ å®å¡”ç¯å¢ƒé…ç½®ç¤ºä¾‹</span><br><span class="line"></span><br><span class="line">  ç¯å¢ƒå˜é‡é…ç½® (.<span class="built_in">env</span>)ï¼š</span><br><span class="line">  HOST=0.0.0.0</span><br><span class="line">  PORT=8001</span><br><span class="line">  DATABASE_URL=postgresql://postgres:your_password@postgres:5432/openharmony_news</span><br><span class="line">  POSTGRES_PASSWORD=your_strong_password</span><br><span class="line"></span><br><span class="line">  <span class="comment"># å®å¡”ç¯å¢ƒç‰¹æ®Šé…ç½®</span></span><br><span class="line">  LOG_LEVEL=INFO</span><br><span class="line">  TZ=Asia/Shanghai</span><br><span class="line"></span><br><span class="line">  å¿«é€Ÿéƒ¨ç½²å‘½ä»¤ï¼š</span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server</span><br><span class="line">  <span class="built_in">chmod</span> +x deploy.sh</span><br><span class="line">  ./deploy.sh install</span><br><span class="line">  ./deploy.sh start prod</span><br><span class="line"></span><br><span class="line">  ğŸ”§ å®å¡”é¢æ¿ä¼˜åŠ¿</span><br><span class="line"></span><br><span class="line">  1. å¯è§†åŒ–ç®¡ç†ï¼šé€šè¿‡é¢æ¿ç®¡ç†Dockerå®¹å™¨</span><br><span class="line">  2. æ—¥å¿—æŸ¥çœ‹ï¼šæ–¹ä¾¿æŸ¥çœ‹åº”ç”¨å’Œç³»ç»Ÿæ—¥å¿—</span><br><span class="line">  3. SSLè¯ä¹¦ï¼šå®å¡”è‡ªå¸¦Let<span class="string">&#x27;s Encrypt</span></span><br><span class="line"><span class="string">  4. ç›‘æ§å‘Šè­¦ï¼šç³»ç»Ÿèµ„æºç›‘æ§</span></span><br><span class="line"><span class="string">  5. å¤‡ä»½ç®¡ç†ï¼šè‡ªåŠ¨åŒ–å¤‡ä»½ç­–ç•¥</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ä½ æ›´å€¾å‘äºå“ªç§éƒ¨ç½²æ–¹æ¡ˆï¼Ÿæˆ‘å¯ä»¥æä¾›æ›´å…·ä½“çš„é…ç½®æŒ‡å¯¼ã€‚</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘æ„Ÿè§‰ccå¥½åƒå¹¶æ²¡æœ‰ç†è§£æˆ‘çš„æ„æ€ï¼Œæˆ‘æ˜¯æŒ‡æ˜¯å¦éœ€è¦åœ¨å®å¡”ä¸Šå»ç‚¹å‡»å®‰è£…Dockerï¼Œè€Œä¸æ˜¯åœ¨UbuntuæœåŠ¡å™¨ä¸Šå®‰è£…Dockerã€‚ä¸è¿‡çœ‹ä»–çš„å›ç­”é‚£å°±æ˜¯è‚¯å®šéœ€è¦äº†ï¼Œæ‰€ä»¥æˆ‘åŠç›´æ¥å»å®‰è£…äº†ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/1.png" alt="1"></p>
<p>å®‰è£…å®Œåæˆ‘å»æˆªäº†ä¸ªå›¾ç»™ccå»ç¡®è®¤äº†ä¸€ä¸‹ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/10.png" alt="10"></p>
<p>éšåæˆ‘å»å®å¡”çš„ç»ˆç«¯ä¸Šå»ç»§ç»­ä¸€ä¸‹å®‰è£…æˆåŠŸçš„éªŒè¯ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/11.png" alt="11"></p>
<h4 id="åº”ç”¨å•†åº—çš„é€‰æ‹©"><a href="#åº”ç”¨å•†åº—çš„é€‰æ‹©" class="headerlink" title="åº”ç”¨å•†åº—çš„é€‰æ‹©"></a>åº”ç”¨å•†åº—çš„é€‰æ‹©</h4><p>åœ¨å®‰è£…äº†dockerä¹‹åå®å¡”é¢æ¿çš„dockeråˆ†é¡µå°±ä¼šå‡ºç°åº”ç”¨å•†åº—ï¼Œé‡Œé¢å„ç§å„æ ·çš„è¿è¡Œç¯å¢ƒï¼Œdockerç®¡ç†åº”ç”¨ç³ç…æ»¡ç›®ï¼Œæˆ‘çš„çš„ç¡®ç¡®æ˜¯ä¸çŸ¥é“è¯¥é€‰ä»€ä¹ˆäº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&gt; æˆ‘æ˜¯è¦é€šè¿‡å®å¡”é¢æ¿è¿›è¡Œdockeré¡¹ç›®çš„éƒ¨ç½²ï¼Œ @image.png æˆ‘è¯¥æ€ä¹ˆåš</span><br><span class="line">  â¿  Read image.png (220.5KB)</span><br><span class="line"></span><br><span class="line">â— å¥½çš„ï¼æˆ‘çœ‹åˆ°ä½ ç°åœ¨åœ¨å®å¡”é¢æ¿çš„åº”ç”¨å•†åº—ã€‚å¯¹äºDockeré¡¹ç›®éƒ¨ç½²ï¼Œä½ æœ‰ä¸¤ç§æ–¹å¼ï¼š</span><br><span class="line"></span><br><span class="line">  ğŸ‹ æ–¹å¼ä¸€ï¼šé€šè¿‡å®å¡”Dockerç®¡ç†å™¨ï¼ˆæ¨èï¼‰</span><br><span class="line"></span><br><span class="line">  1. å…ˆå®‰è£…Dockerç®¡ç†å™¨</span><br><span class="line"></span><br><span class="line">  åœ¨å½“å‰é¡µé¢æœç´¢<span class="string">&quot;Docker&quot;</span>æˆ–è€…åœ¨åº”ç”¨åˆ†ç±»ä¸­é€‰æ‹©<span class="string">&quot;å®ç”¨å·¥å…·&quot;</span>ï¼Œæ‰¾åˆ°å¹¶å®‰è£…ï¼š</span><br><span class="line">  - Dockerç®¡ç†å™¨ - ç”¨äºå¯è§†åŒ–ç®¡ç†Dockerå®¹å™¨</span><br><span class="line"></span><br><span class="line">  2. å®‰è£…åçš„æ“ä½œæ­¥éª¤</span><br><span class="line"></span><br><span class="line">  å®å¡”é¢æ¿ â†’ Docker â†’ é•œåƒç®¡ç† â†’ å®¹å™¨ç®¡ç†</span><br><span class="line"></span><br><span class="line">  ğŸš€ æ–¹å¼äºŒï¼šSSHå‘½ä»¤è¡Œéƒ¨ç½²ï¼ˆæ›´çµæ´»ï¼‰</span><br><span class="line"></span><br><span class="line">  1. é€šè¿‡SSHè¿æ¥æœåŠ¡å™¨</span><br><span class="line"></span><br><span class="line">  <span class="comment"># åœ¨å®å¡”é¢æ¿ â†’ ç»ˆç«¯ æˆ–è€…ä½¿ç”¨SSHå·¥å…·è¿æ¥</span></span><br><span class="line"></span><br><span class="line">  2. åˆ›å»ºé¡¹ç›®ç›®å½•</span><br><span class="line"></span><br><span class="line">  <span class="built_in">mkdir</span> -p /www/wwwroot/openharmony-server</span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server</span><br><span class="line"></span><br><span class="line">  3. ä¸Šä¼ ä»£ç ï¼ˆé€‰æ‹©ä¸€ç§æ–¹å¼ï¼‰</span><br><span class="line"></span><br><span class="line">  æ–¹å¼Aï¼šé€šè¿‡å®å¡”æ–‡ä»¶ç®¡ç†å™¨</span><br><span class="line">  - å°†æœ¬åœ°Serveræ–‡ä»¶å¤¹æ‰“åŒ…æˆzip</span><br><span class="line">  - é€šè¿‡å®å¡”é¢æ¿ â†’ æ–‡ä»¶ â†’ ä¸Šä¼ å¹¶è§£å‹</span><br><span class="line"></span><br><span class="line">  æ–¹å¼Bï¼šé€šè¿‡Gitå…‹éš†</span><br><span class="line">  git <span class="built_in">clone</span> https://github.com/ifLabVibe/NowInOpenHarmony.git</span><br><span class="line">  <span class="built_in">cd</span> NowInOpenHarmony/Server</span><br><span class="line"></span><br><span class="line">  4. ä¸€é”®éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">  <span class="built_in">chmod</span> +x deploy.sh</span><br><span class="line">  ./deploy.sh install</span><br><span class="line">  ./deploy.sh start</span><br><span class="line"></span><br><span class="line">  ğŸ“‹ æ¨èæ“ä½œæµç¨‹</span><br><span class="line"></span><br><span class="line">  å»ºè®®ä½¿ç”¨æ–¹å¼äºŒï¼ˆSSHå‘½ä»¤è¡Œï¼‰ï¼Œå› ä¸ºï¼š</span><br><span class="line">  - æ›´çµæ´»ï¼Œæ”¯æŒæˆ‘ä»¬çš„è‡ªåŠ¨åŒ–è„šæœ¬</span><br><span class="line">  - ä¾¿äºè°ƒè¯•å’ŒæŸ¥çœ‹æ—¥å¿—</span><br><span class="line">  - æ”¯æŒå®Œæ•´çš„Docker ComposeåŠŸèƒ½</span><br><span class="line"></span><br><span class="line">  ä½ æƒ³ç”¨å“ªç§æ–¹å¼ï¼Ÿæˆ‘å¯ä»¥è¯¦ç»†æŒ‡å¯¼å…·ä½“æ“ä½œæ­¥éª¤ã€‚</span><br></pre></td></tr></table></figure>
<p>å®ƒç»™äº†æˆ‘ä¸¤ç§æ–¹å¼å»è¿›è¡Œå®‰è£…ï¼Œæˆ‘æ›´å€¾å‘äºä½¿ç”¨ç¬¬ä¸€ç§å¯è§†åŒ–çš„æ–¹å¼å»ç»§ç»­è¿›è¡Œæ“ä½œï¼Œæ¯•ç«Ÿå¯¹äºæˆ‘æ¥è¯´æˆ‘è¿˜åªæ˜¯ç¬¬ä¸€æ¬¡è¿›è¡Œdockeréƒ¨ç½²çš„å°è¯•ã€‚</p>
<p>å®ƒè®©æˆ‘åœ¨æœç´¢æ¡†è¾“å…¥â€Dockerâ€æ‰¾åˆ°â€Dockerç®¡ç†å™¨â€åº”ç”¨ï¼Œä½†æ˜¯æˆ‘æœç´¢ç»“æœä¸­å¹¶æ²¡æœ‰è¿™ä¸ªåº”ç”¨ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/13.png" alt="13"></p>
<p>ä½†æ˜¯ä»¥æˆ‘ä¹‹å‰ç”¨å®å¡”çš„ç»éªŒæ¥è¯´ï¼Œåº”è¯¥æ˜¯ç›´æ¥ç”¨å®å¡”è‡ªå¸¦çš„å·¥å…·è¿›è¡Œéƒ¨ç½²å°±å¯ä»¥æ²¡å¿…è¦ä¸‹æ›´å¤šçš„ç®¡ç†è½¯ä»¶çš„ã€‚</p>
<p>äºæ˜¯æˆ‘å†³å®šç›´æ¥æˆªä¸€å¼ å›¾è®©ä»–å»æ•™æˆ‘æ€ä¹ˆåšã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/14.png" alt="14"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&gt; @image.png ä¸è¦ä¸‹è½½é¢å¤–è½¯ä»¶ç°åœ¨å°±å‘Šè¯‰æˆ‘ç°åœ¨çš„è¿™ä¸ªå®å¡”è‡ªå¸¦çš„ç•Œé¢è¯¥æ€ä¹ˆåšï¼Ÿ</span><br><span class="line">  â¿  Read image.png (92.6KB)</span><br><span class="line"></span><br><span class="line">â— å¥½çš„ï¼æˆ‘çœ‹åˆ°ä½ å·²ç»åœ¨å®å¡”è‡ªå¸¦çš„Dockerç®¡ç†ç•Œé¢äº†ã€‚ç°åœ¨æˆ‘æ¥æŒ‡å¯¼ä½ å¦‚ä½•ä½¿ç”¨è¿™ä¸ªç•Œé¢è¿›è¡Œéƒ¨ç½²ï¼š</span><br><span class="line"></span><br><span class="line">â— ğŸš€ ä½¿ç”¨å®å¡”è‡ªå¸¦Dockerç•Œé¢éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ é¡¹ç›®ä»£ç </span><br><span class="line"></span><br><span class="line">  åœ¨å½“å‰Dockerç•Œé¢æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¸Šä¼ ä»£ç ï¼š</span><br><span class="line"></span><br><span class="line">  1. ç‚¹å‡»å·¦ä¾§èœå•<span class="string">&quot;æ–‡ä»¶&quot;</span></span><br><span class="line">  2. è¿›å…¥ç›®å½• /www/wwwroot/</span><br><span class="line">  3. åˆ›å»ºæ–‡ä»¶å¤¹ openharmony-server</span><br><span class="line">  4. è¿›å…¥è¯¥æ–‡ä»¶å¤¹</span><br><span class="line">  5. ä¸Šä¼ æ–‡ä»¶ï¼š</span><br><span class="line">    - å°†æœ¬åœ°Serveræ–‡ä»¶å¤¹çš„æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…æˆzip</span><br><span class="line">    - ä¸Šä¼ å¹¶è§£å‹</span><br><span class="line"></span><br><span class="line">  ç¬¬äºŒæ­¥ï¼šå›åˆ°Dockerç•Œé¢</span><br><span class="line"></span><br><span class="line">  å›åˆ°å½“å‰Dockerç®¡ç†é¡µé¢ï¼Œç‚¹å‡»é¡¶éƒ¨çš„ <span class="string">&quot;æœ¬åœ°é•œåƒ&quot;</span> æ ‡ç­¾</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸‰æ­¥ï¼šæ„å»ºé•œåƒ</span><br><span class="line"></span><br><span class="line">  1. ç‚¹å‡»<span class="string">&quot;æ„å»ºé•œåƒ&quot;</span>æŒ‰é’®ï¼ˆé€šå¸¸åœ¨é¡µé¢å³ä¸Šè§’ï¼‰</span><br><span class="line">  2. å¡«å†™æ„å»ºä¿¡æ¯ï¼š</span><br><span class="line">    - é•œåƒåç§°ï¼šopenharmony-server</span><br><span class="line">    - æ ‡ç­¾ï¼šlatest</span><br><span class="line">    - æ„å»ºè·¯å¾„ï¼š/www/wwwroot/openharmony-server</span><br><span class="line">    - Dockerfileè·¯å¾„ï¼šDockerfile</span><br><span class="line"></span><br><span class="line">  ç¬¬å››æ­¥ï¼šç­‰å¾…æ„å»ºå®Œæˆ</span><br><span class="line"></span><br><span class="line">  æ„å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦5-10åˆ†é’Ÿï¼Œåœ¨<span class="string">&quot;æœ¬åœ°é•œåƒ&quot;</span>ä¸­ä¼šçœ‹åˆ°æ„å»ºè¿›åº¦</span><br><span class="line"></span><br><span class="line">  ç¬¬äº”æ­¥ï¼šåˆ›å»ºå®¹å™¨</span><br><span class="line"></span><br><span class="line">  æ„å»ºå®Œæˆåï¼š</span><br><span class="line">  1. ç‚¹å‡»<span class="string">&quot;å®¹å™¨åˆ—è¡¨&quot;</span>æ ‡ç­¾</span><br><span class="line">  2. ç‚¹å‡»<span class="string">&quot;åˆ›å»ºå®¹å™¨&quot;</span></span><br><span class="line">  3. é…ç½®å®¹å™¨ï¼š</span><br><span class="line">    - å®¹å™¨åç§°ï¼šopenharmony-api</span><br><span class="line">    - é€‰æ‹©é•œåƒï¼šopenharmony-server:latest</span><br><span class="line">    - ç«¯å£æ˜ å°„ï¼š8001:8001</span><br><span class="line">    - é‡å¯ç­–ç•¥ï¼šalways</span><br><span class="line"></span><br><span class="line">  ç¬¬å…­æ­¥ï¼šå¯åŠ¨å®¹å™¨</span><br><span class="line"></span><br><span class="line">  åˆ›å»ºå®Œæˆåï¼Œåœ¨å®¹å™¨åˆ—è¡¨ä¸­ç‚¹å‡»<span class="string">&quot;å¯åŠ¨&quot;</span>æŒ‰é’®</span><br><span class="line"></span><br><span class="line">  ğŸ“‹ å…·ä½“æ“ä½œé¡ºåº</span><br><span class="line"></span><br><span class="line">  ç°åœ¨è¯·æŒ‰ä»¥ä¸‹é¡ºåºæ“ä½œï¼š</span><br><span class="line"></span><br><span class="line">  1. å…ˆå»æ–‡ä»¶ç®¡ç†å™¨ä¸Šä¼ ä»£ç </span><br><span class="line">  2. å›åˆ°Docker â†’ æœ¬åœ°é•œåƒ</span><br><span class="line">  3. ç‚¹å‡»æ„å»ºé•œåƒ</span><br><span class="line"></span><br><span class="line">  ä½ ç°åœ¨å¯ä»¥å…ˆå»ä¸Šä¼ ä»£ç ï¼Œéœ€è¦æˆ‘å‡†å¤‡ä¸€ä¸ªç®€åŒ–ç‰ˆçš„æ–‡ä»¶åŒ…ç»™ä½ å—ï¼Ÿ</span><br></pre></td></tr></table></figure>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/15.png" alt="15"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/16.png" alt="16"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/17.png" alt="17"></p>
<p>è‡³æ­¤æˆ‘æˆåŠŸå°†å…¨éƒ¨æ–‡ä»¶ä¸Šä¼ åˆ°äº†æˆ‘çš„æœåŠ¡å™¨ï¼Œå°†è¿™äº›æˆªå›¾å–‚ç»™ccè®©ä»–åŒæ­¥ä¸€ä¸‹æˆ‘ç°åœ¨çš„è¿›åº¦ï¼Œéšåç»§ç»­æŒ‡å¯¼æˆ‘å»è¿›è¡Œéƒ¨ç½²ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">â— å¥½çš„ï¼æˆ‘çœ‹åˆ°æ–‡ä»¶å·²ç»è§£å‹å®Œæˆäº†ï¼Œæ‰€æœ‰å¿…è¦çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½åœ¨äº†ã€‚ç°åœ¨å¯ä»¥æ„å»ºDockeré•œåƒäº†ï¼</span><br><span class="line"></span><br><span class="line">â— å®Œç¾ï¼ç°åœ¨å¯ä»¥æ„å»ºDockeré•œåƒäº†ã€‚</span><br><span class="line"></span><br><span class="line">  ğŸ‹ æ¥ä¸‹æ¥æ„å»ºDockeré•œåƒ</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸€æ­¥ï¼šè¿”å›Dockerç®¡ç†ç•Œé¢</span><br><span class="line"></span><br><span class="line">  1. ç‚¹å‡»å·¦ä¾§èœå• <span class="string">&quot;Docker&quot;</span></span><br><span class="line">  2. ç‚¹å‡»é¡¶éƒ¨ <span class="string">&quot;æœ¬åœ°é•œåƒ&quot;</span> æ ‡ç­¾</span><br><span class="line"></span><br><span class="line">  ç¬¬äºŒæ­¥ï¼šæ„å»ºé•œåƒ</span><br><span class="line"></span><br><span class="line">  åœ¨æœ¬åœ°é•œåƒé¡µé¢ï¼š</span><br><span class="line"></span><br><span class="line">  1. ç‚¹å‡» <span class="string">&quot;æ„å»ºé•œåƒ&quot;</span> æŒ‰é’®ï¼ˆé€šå¸¸åœ¨é¡µé¢å³ä¸Šæ–¹ï¼‰</span><br><span class="line">  2. å¡«å†™æ„å»ºä¿¡æ¯ï¼š</span><br><span class="line">    - é•œåƒåç§°: openharmony-server</span><br><span class="line">    - ç‰ˆæœ¬æ ‡ç­¾: latest</span><br><span class="line">    - æ„å»ºè·¯å¾„: /www/wwwroot/openharmony-server/Server</span><br><span class="line">    - Dockerfile: Dockerfile</span><br><span class="line">  3. ç‚¹å‡»ç¡®å®šå¼€å§‹æ„å»º</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸‰æ­¥ï¼šç­‰å¾…æ„å»ºå®Œæˆ</span><br><span class="line"></span><br><span class="line">  - æ„å»ºè¿‡ç¨‹å¤§çº¦éœ€è¦ 5-10åˆ†é’Ÿ</span><br><span class="line">  - ä½ ä¼šçœ‹åˆ°æ„å»ºæ—¥å¿—å’Œè¿›åº¦</span><br><span class="line">  - å®Œæˆåä¼šåœ¨é•œåƒåˆ—è¡¨ä¸­æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">  ç¬¬å››æ­¥ï¼šæ„å»ºå®Œæˆåçš„ä¸‹ä¸€æ­¥</span><br><span class="line"></span><br><span class="line">  æ„å»ºæˆåŠŸåæˆ‘ä»¬å°±å¯ä»¥ï¼š</span><br><span class="line">  1. åˆ›å»ºå®¹å™¨</span><br><span class="line">  2. é…ç½®ç«¯å£æ˜ å°„ (8001:8001)</span><br><span class="line">  3. è®¾ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">  4. å¯åŠ¨æœåŠ¡</span><br><span class="line"></span><br><span class="line">  ç°åœ¨è¯·å›åˆ°Dockerç•Œé¢ï¼Œå¼€å§‹æ„å»ºé•œåƒï¼ ğŸš€</span><br></pre></td></tr></table></figure>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/18.png" alt="18"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/19.png" alt="19"></p>
<p>åœ¨æŒ‰ç…§CCçš„è¯´æ˜é€‰ä¸­äº†ç›®æ ‡Dockerfileä¹‹åå‘ç°åç¼€é”™äº†å‘ç”Ÿäº†æŠ¥é”™ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯å¯ä»¥ç›´æ¥åœ¨äº‘ç«¯è¿›è¡Œåç¼€åçš„ä¿®æ”¹çš„ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸ç¡®å®šæ‰€ä»¥è¿˜æ˜¯å…ˆæ‰¾CCé—®é—®å§ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&gt; @image2.png @image.png æˆ‘é€‰ä¸­äº†ç›®æ ‡Dockerfileä¹‹åå‘ç°åç¼€é”™äº†å‘ç”Ÿäº†æŠ¥é”™</span><br><span class="line">  â¿  Read image2.png (78.3KB)</span><br><span class="line">  â¿  Read image.png (13.3KB)</span><br><span class="line"></span><br><span class="line">â— æˆ‘çœ‹åˆ°é—®é¢˜äº†ï¼å®å¡”æç¤º<span class="string">&quot;æ–‡ä»¶åç¼€å¿…é¡»ä¸º.tar&quot;</span>ï¼Œè¿™è¯´æ˜å®å¡”çš„Dockerç®¡ç†å™¨éœ€è¦çš„æ˜¯taræ ¼å¼çš„æ„å»ºä¸Šä¸‹æ–‡æ–‡ä»¶ï¼Œè€Œ</span><br><span class="line">  ä¸æ˜¯ç›´æ¥é€‰æ‹©Dockerfileã€‚</span><br><span class="line"></span><br><span class="line">  è®©æˆ‘ä»¬æ¢ä¸ªæ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">  ğŸ”§ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨SSHç»ˆç«¯</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨å®å¡”ç»ˆç«¯</span><br><span class="line"></span><br><span class="line">  1. åœ¨å®å¡”é¢æ¿å·¦ä¾§èœå•æ‰¾åˆ°<span class="string">&quot;ç»ˆç«¯&quot;</span></span><br><span class="line">  2. ç‚¹å‡»è¿›å…¥SSHç»ˆç«¯</span><br><span class="line"></span><br><span class="line">  ç¬¬äºŒæ­¥ï¼šå¯¼èˆªåˆ°é¡¹ç›®ç›®å½•</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server/Server</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨å‘½ä»¤è¡Œæ„å»ºé•œåƒ</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ç›´æ¥ä½¿ç”¨Dockerå‘½ä»¤æ„å»º</span></span><br><span class="line">  docker build -t openharmony-server:latest .</span><br><span class="line"></span><br><span class="line">  ç¬¬å››æ­¥ï¼šéªŒè¯é•œåƒæ„å»º</span><br><span class="line"></span><br><span class="line">  <span class="comment"># æŸ¥çœ‹æ„å»ºçš„é•œåƒ</span></span><br><span class="line">  docker images</span><br><span class="line"></span><br><span class="line">  ğŸ¯ æˆ–è€…ç®€åŒ–éƒ¨ç½²æ–¹æ¡ˆ</span><br><span class="line"></span><br><span class="line">  å¦‚æœä½ ä¸æƒ³ç”¨SSHï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</span><br><span class="line"></span><br><span class="line">  æ–¹æ¡ˆä¸€ï¼šåˆ›å»ºtaræ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  åœ¨å½“å‰æ–‡ä»¶ç®¡ç†ç•Œé¢ï¼š</span><br><span class="line">  1. é€‰æ‹©æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†.zipæ–‡ä»¶ï¼‰</span><br><span class="line">  2. å³é”®å‹ç¼© â†’ é€‰æ‹©taræ ¼å¼</span><br><span class="line">  3. å‘½åä¸º openharmony-server.tar</span><br><span class="line">  4. åœ¨Dockerç•Œé¢å¯¼å…¥è¿™ä¸ªtaræ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  æ–¹æ¡ˆäºŒï¼šç›´æ¥è¿è¡Œï¼ˆæ¨èï¼‰</span><br><span class="line"></span><br><span class="line">  ä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼ï¼š</span><br><span class="line">  <span class="comment"># åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¿è¡ŒPythonåº”ç”¨</span></span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server/Server</span><br><span class="line">  python3 -m pip install -r requirements.txt</span><br><span class="line">  python3 run.py</span><br><span class="line"></span><br><span class="line">  ä½ æ›´æ„¿æ„å°è¯•å“ªç§æ–¹æ¡ˆï¼Ÿæˆ‘æ¨èä½¿ç”¨ç»ˆç«¯å‘½ä»¤è¡Œçš„æ–¹å¼ï¼Œæ›´ç®€å•ç›´æ¥ï¼</span><br></pre></td></tr></table></figure>
<p>å§æ§½é†é†çŒé¡¶ï¼Œtaræ˜¯å‹ç¼©åŒ…æ ¼å¼â€¦â€¦æˆ‘å‚»äº†ï¼Œè¿˜ä»¥ä¸ºæ˜¯æ”¹ä¸ªåç¼€å¯ä»¥è§£å†³çš„ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/20.png" alt="20"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/21.png" alt="21"></p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/22.png" alt="22"></p>
<p>å†æ¬¡å°è¯•ä¸€ä¸‹æœŸå¾…å¯ä»¥é¡ºåˆ©åˆ›å»ºé•œåƒå§ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/23.png" alt="23"></p>
<p>å§æ§½è¿˜æ˜¯ä¸è¡Œé‚£å°±è¯´æ˜<code>.tar</code>å’Œ<code>.tar.gz</code>å¹¶ä¸æ˜¯ä¸€ç§æ ¼å¼ï¼Œæˆ‘ç¡®å®æ˜¯ä¸å¤ªæ¸…æ¥šè¿™ä¸¤ç§æ ¼å¼çš„åŒºåˆ«ã€‚åˆšå¥½æ¥ä¸‹æ¥è®©CCå¸®æˆ‘ç»­å†™ä¸€æ®µä¸¤è€…çš„åŒºåˆ«å§ã€‚</p>
<h4 id="taræ ¼å¼è¯¦è§£"><a href="#taræ ¼å¼è¯¦è§£" class="headerlink" title="taræ ¼å¼è¯¦è§£"></a>taræ ¼å¼è¯¦è§£</h4><p>ä½œä¸ºä¸€ä¸ªç¬¬ä¸€æ¬¡æ·±åº¦æ¥è§¦Dockeréƒ¨ç½²çš„å¼€å‘è€…ï¼Œæˆ‘ä¹‹å‰å¯¹å‹ç¼©åŒ…æ ¼å¼çš„ç†è§£ç¡®å®æ¯”è¾ƒæµ…æ˜¾ã€‚åœ¨è¿™æ¬¡éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„taræ ¼å¼é—®é¢˜è®©æˆ‘æ„è¯†åˆ°ï¼Œäº†è§£ä¸åŒå‹ç¼©æ ¼å¼çš„åŒºåˆ«å¯¹äºæœåŠ¡å™¨éƒ¨ç½²å·¥ä½œæ¥è¯´æ˜¯å¿…è¦çš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<p><strong><code>.tar</code> vs <code>.tar.gz</code> çš„æœ¬è´¨åŒºåˆ«ï¼š</strong></p>
<p><code>.tar</code>ï¼ˆTape Archiveï¼‰æ˜¯ä¸€ç§å½’æ¡£æ ¼å¼ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†å¤šä¸ªæ–‡ä»¶å’Œç›®å½•æ‰“åŒ…æˆä¸€ä¸ªå•ä¸€æ–‡ä»¶ï¼Œä½†<strong>ä¸è¿›è¡Œå‹ç¼©</strong>ã€‚å¯ä»¥ç†è§£ä¸ºå°±æ˜¯ç®€å•çš„â€æ‰“åŒ…â€æ“ä½œï¼Œç±»ä¼¼äºå°†æ‰€æœ‰æ–‡ä»¶æ”¾å…¥ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œæ–‡ä»¶å¤§å°å‡ ä¹ä¸ä¼šå˜åŒ–ã€‚</p>
<p><code>.tar.gz</code>ï¼ˆä¹Ÿå¯å†™ä½œ<code>.tgz</code>ï¼‰åˆ™æ˜¯åœ¨tarå½’æ¡£çš„åŸºç¡€ä¸Šï¼Œå†ä½¿ç”¨gzipç®—æ³•è¿›è¡Œ<strong>å‹ç¼©</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªä¸¤æ­¥è¿‡ç¨‹ï¼šå…ˆtaræ‰“åŒ…ï¼Œå†gzipå‹ç¼©ã€‚å› æ­¤æ–‡ä»¶å¤§å°ä¼šæ˜¾è‘—å‡å°ã€‚</p>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li><code>.tar</code>ï¼šå½“ä½ éœ€è¦ä¿æŒæ–‡ä»¶çš„å®Œæ•´ç»“æ„ä½†ä¸å…³å¿ƒæ–‡ä»¶å¤§å°æ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚Dockeræ„å»ºä¸Šä¸‹æ–‡ï¼Œå› ä¸ºDockeréœ€è¦å¿«é€Ÿè®¿é—®æ–‡ä»¶å†…å®¹</li>
<li><code>.tar.gz</code>ï¼šç”¨äºé•¿æœŸå­˜å‚¨æˆ–ç½‘ç»œä¼ è¾“ï¼Œå› ä¸ºå‹ç¼©åçš„æ–‡ä»¶æ›´å°ï¼Œä¼ è¾“æ›´å¿«</li>
</ul>
<p><strong>Dockerä¸ºä»€ä¹ˆåçˆ±<code>.tar</code>ï¼š</strong></p>
<p>Dockeråœ¨æ„å»ºé•œåƒæ—¶éœ€è¦é¢‘ç¹è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä½¿ç”¨å‹ç¼©æ ¼å¼ï¼Œæ¯æ¬¡è®¿é—®éƒ½éœ€è¦è§£å‹ï¼Œä¼šå½±å“æ„å»ºæ€§èƒ½ã€‚è€Œ<code>.tar</code>æ ¼å¼è™½ç„¶æ–‡ä»¶è¾ƒå¤§ï¼Œä½†å¯ä»¥å¿«é€Ÿå®šä½å’Œè¯»å–å…¶ä¸­çš„ä»»ä½•æ–‡ä»¶ï¼Œéå¸¸é€‚åˆDockerçš„å·¥ä½œæœºåˆ¶ã€‚</p>
<p>è¿™æ¬¡çš„å®è·µè®©æˆ‘æ·±åˆ»ç†è§£äº†â€å·¥å…·é€‰æ‹©è¦åŸºäºå®é™…éœ€æ±‚â€è¿™ä¸ªé“ç†ã€‚ä¸åŒçš„å‹ç¼©æ ¼å¼éƒ½æœ‰å…¶ç‰¹å®šçš„åº”ç”¨åœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„æ ¼å¼æ¯”å•çº¯è¿½æ±‚æœ€å°æ–‡ä»¶å¤§å°æ›´é‡è¦ã€‚</p>
<h4 id="é•œåƒåˆ›å»º"><a href="#é•œåƒåˆ›å»º" class="headerlink" title="é•œåƒåˆ›å»º"></a>é•œåƒåˆ›å»º</h4><p>åŸæ¥æ˜¯è¿™æ ·ï¼Œtaræœ¬èº«å¹¶æ²¡æœ‰å¯¹æ–‡ä»¶æœ¬èº«è¿›è¡Œå‹ç¼©ï¼Œåªæ˜¯å°†å…¶æ‰“åŒ…æˆäº†ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ã€‚é‚£æ—¢ç„¶å¦‚å•æˆ‘åº”è¯¥ç›´æ¥è¿›è¡Œä¸€æ¬¡è§£å‹å°±å¯ä»¥å°†å…¶è¿˜åŸä¸ºtaræ–‡ä»¶äº†ã€‚è®©æˆ‘è¯•ä¸€ä¸‹æˆ‘çš„çŒœæƒ³æ˜¯å¦æ­£ç¡®ã€‚</p>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/24.png" alt="24"></p>
<p>é¢ï¼Œè§£å‹å®Œtaré‚£ä¸€å±‚ä¹Ÿè¢«ä¸€å¹¶è§£å¼€äº†ã€‚å˜¶ï¼Œé‚£åªå¥½é—®é—®CCäº†ã€‚è¿™æ¬¡æˆ‘ç›´æ¥æŠŠæˆ‘çš„åšæ–‡å¤åˆ¶ç»™ä»–ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">â— å“ˆå“ˆï¼Œä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼.tar.gzè§£å‹ç¡®å®æ˜¯ç›´æ¥è§£å¼€ä¸¤å±‚å˜æˆæ–‡ä»¶å¤¹äº†ã€‚</span><br><span class="line"></span><br><span class="line">  ğŸ¯ åˆ›å»ºçº¯.taræ–‡ä»¶çš„æ–¹æ³•</span><br><span class="line"></span><br><span class="line">  æ–¹æ³•ä¸€ï¼šåœ¨å®å¡”æ–‡ä»¶ç®¡ç†å™¨ä¸­</span><br><span class="line"></span><br><span class="line">  1. é€‰ä¸­æ‰€æœ‰éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆä¸åŒ…æ‹¬Server.tar.gzï¼‰</span><br><span class="line">  2. å³é”® â†’ å‹ç¼©</span><br><span class="line">  3. åœ¨å‹ç¼©æ ¼å¼ä¸­é€‰æ‹©.tarï¼ˆä¸æ˜¯.tar.gzï¼‰</span><br><span class="line">  4. å‘½åä¸º openharmony-server.tar</span><br><span class="line"></span><br><span class="line">  æ–¹æ³•äºŒï¼šä½¿ç”¨SSHç»ˆç«¯ï¼ˆæ¨èï¼‰</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server/Server</span><br><span class="line">  tar -cf openharmony-server.tar .</span><br><span class="line"></span><br><span class="line">  è¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶çš„tarå½’æ¡£ã€‚</span><br><span class="line"></span><br><span class="line">  ğŸš€ ä½†æ˜¯ï¼æ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆ</span><br><span class="line"></span><br><span class="line">  å®é™…ä¸Šï¼Œå®å¡”çš„Dockerç®¡ç†å™¨å¯¹taræ ¼å¼æ”¯æŒå¯èƒ½æœ‰é™ã€‚æˆ‘å»ºè®®ç›´æ¥ç”¨SSHç»ˆç«¯æ„å»ºé•œåƒï¼š</span><br><span class="line"></span><br><span class="line">  ç»ˆæè§£å†³æ–¹æ¡ˆï¼š</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 1. è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server/Server</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 2. ç›´æ¥æ„å»ºDockeré•œåƒ</span></span><br><span class="line">  docker build -t openharmony-server:latest .</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 3. æŸ¥çœ‹æ„å»ºç»“æœ</span></span><br><span class="line">  docker images</span><br><span class="line"></span><br><span class="line">  è¿™æ ·å°±èƒ½ç»•è¿‡å®å¡”ç•Œé¢çš„æ ¼å¼é™åˆ¶ï¼Œç›´æ¥ç”¨DockeråŸç”Ÿå‘½ä»¤æ„å»ºé•œåƒã€‚</span><br><span class="line"></span><br><span class="line">  ğŸ’¡ tarçŸ¥è¯†è¡¥å……</span><br><span class="line"></span><br><span class="line">  ä½ æ€»ç»“å¾—å¾ˆå¯¹ï¼ç®€å•è®°å¿†ï¼š</span><br><span class="line">  - .tar = æ‰“åŒ…ï¼ˆæ–‡ä»¶å¤§å°åŸºæœ¬ä¸å˜ï¼‰</span><br><span class="line">  - .tar.gz = æ‰“åŒ… + å‹ç¼©ï¼ˆæ–‡ä»¶å˜å°ï¼‰</span><br><span class="line">  - .zip = æ‰“åŒ… + å‹ç¼©ï¼ˆWindowså¸¸ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">  ç°åœ¨å»ºè®®ç›´æ¥ç”¨SSHç»ˆç«¯å‘½ä»¤ï¼Œè¿™æ ·æœ€ç¨³å¦¥ï¼éœ€è¦æˆ‘æŒ‡å¯¼ç»ˆç«¯æ“ä½œå—ï¼Ÿ</span><br></pre></td></tr></table></figure>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/25.png" alt="25"></p>
<p>å“¦ï¼å¾ˆæœ‰æ„æ€ï¼ŒCCå±…ç„¶å›å¤æˆ‘äº†ä¸€ä¸ªâ€œå“ˆå“ˆâ€è¿™çœŸçš„æœ‰ç‚¹åƒæ˜¯åœ¨å’ŒçœŸäººèŠå¤©äº†ï¼Œæœ‰ç‚¹æ„æ€ã€‚</p>
<p>æˆ‘æŠŠè¿™æ®µç»å†ä¹Ÿå‘åˆ°äº†AIè®­ç»ƒè¥çš„ç¾¤é‡Œï¼Œæ›¾è€å¸ˆä¹Ÿæ˜¯è¯„ä»·é“è¯´ï¼šâ€œä½ å¾—åˆ°äº†å®ƒâ€ã€‚</p>
<p>å›å½’æ­£é¢˜ï¼Œåœ¨å®å¡”é¢æ¿ä¸Šåˆ™ç›´æ¥å»é€‰æ‹©å‹ç¼©æ ¼å¼å¹¶æ²¡æœ‰åŠæ³•å»ç›´æ¥é€‰æ‹©taræ ¼å¼ï¼Œä»–çš„taræ ¼å¼æ˜¯äºgzç»‘å®šçš„ã€‚</p>
<p>äºæ˜¯æˆ‘å†³å®šç°åœ¨ä½¿ç”¨ç»ˆç«¯å»è¿›è¡Œéƒ¨ç½²å°è¯•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&gt; æˆ‘è¦ç”¨ç»ˆç«¯è¿›è¡Œï¼Œè¯·ç»™æˆ‘å‘½ä»¤è¡Œ</span><br><span class="line"></span><br><span class="line">â— å¥½çš„ï¼æˆ‘ç»™ä½ å®Œæ•´çš„ç»ˆç«¯å‘½ä»¤è¡Œæ“ä½œæ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">  ğŸš€ ç»ˆç«¯Dockeréƒ¨ç½²å‘½ä»¤</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸€æ­¥ï¼šè¿›å…¥é¡¹ç›®ç›®å½•</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span> /www/wwwroot/openharmony-server/Server</span><br><span class="line"></span><br><span class="line">  ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å®Œæ•´</span><br><span class="line"></span><br><span class="line">  <span class="built_in">ls</span> -la</span><br><span class="line">  ç¡®è®¤èƒ½çœ‹åˆ°ï¼šDockerfileã€requirements.txtã€main.pyã€run.pyç­‰æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸‰æ­¥ï¼šæ„å»ºDockeré•œåƒ</span><br><span class="line"></span><br><span class="line">  docker build -t openharmony-server:latest .</span><br><span class="line"></span><br><span class="line">  ç¬¬å››æ­¥ï¼šæŸ¥çœ‹æ„å»ºç»“æœ</span><br><span class="line"></span><br><span class="line">  docker images | grep openharmony</span><br><span class="line"></span><br><span class="line">  ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</span><br><span class="line"></span><br><span class="line">  docker run -d \</span><br><span class="line">    --name openharmony-api \</span><br><span class="line">    -p 8001:8001 \</span><br><span class="line">    -v /www/wwwroot/openharmony-server/logs:/app/logs \</span><br><span class="line">    -v /www/wwwroot/openharmony-server/data:/app/data \</span><br><span class="line">    -e HOST=0.0.0.0 \</span><br><span class="line">    -e PORT=8001 \</span><br><span class="line">    -e DATABASE_URL=sqlite:///./data/openharmony_news.db \</span><br><span class="line">    -e LOG_LEVEL=INFO \</span><br><span class="line">    -e ENABLE_SCHEDULER=<span class="literal">true</span> \</span><br><span class="line">    --restart unless-stopped \</span><br><span class="line">    openharmony-server:latest</span><br><span class="line"></span><br><span class="line">  ç¬¬å…­æ­¥ï¼šæŸ¥çœ‹å®¹å™¨çŠ¶æ€</span><br><span class="line"></span><br><span class="line">  docker ps</span><br><span class="line"></span><br><span class="line">  ç¬¬ä¸ƒæ­¥ï¼šæŸ¥çœ‹å®¹å™¨æ—¥å¿—</span><br><span class="line"></span><br><span class="line">  docker logs -f openharmony-api</span><br><span class="line"></span><br><span class="line">  ç¬¬å…«æ­¥ï¼šæµ‹è¯•APIæœåŠ¡</span><br><span class="line"></span><br><span class="line">  curl http://localhost:8001/health</span><br><span class="line"></span><br><span class="line">  ğŸ”§ å¦‚æœå‡ºé”™çš„å¸¸ç”¨è°ƒè¯•å‘½ä»¤</span><br><span class="line"></span><br><span class="line">  <span class="comment"># æŸ¥çœ‹æ„å»ºè¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">  docker build -t openharmony-server:latest . --no-cache</span><br><span class="line"></span><br><span class="line">  <span class="comment"># è¿›å…¥å®¹å™¨å†…éƒ¨è°ƒè¯•</span></span><br><span class="line">  docker <span class="built_in">exec</span> -it openharmony-api /bin/bash</span><br><span class="line"></span><br><span class="line">  <span class="comment"># åœæ­¢å®¹å™¨</span></span><br><span class="line">  docker stop openharmony-api</span><br><span class="line"></span><br><span class="line">  <span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">  docker <span class="built_in">rm</span> openharmony-api</span><br><span class="line"></span><br><span class="line">  <span class="comment"># é‡æ–°å¯åŠ¨</span></span><br><span class="line">  docker start openharmony-api</span><br><span class="line"></span><br><span class="line">  ç°åœ¨ä½ å¯ä»¥å¤åˆ¶ç¬¬ä¸€ä¸ªå‘½ä»¤å¼€å§‹æ‰§è¡Œäº†ï¼ ğŸ¯</span><br></pre></td></tr></table></figure>
<p><img src="/2025/09/27/NowInOpenHarmonyPutaway/26.png" alt="26"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&gt; @<span class="string">&quot;image copy.png&quot;</span></span><br><span class="line">  â¿  Read image copy.png (66.5KB)</span><br><span class="line"></span><br><span class="line">â— å®Œç¾ï¼æˆ‘çœ‹åˆ°ä½ å·²ç»åœ¨æ­£ç¡®çš„ç›®å½•äº†ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ã€‚ç°åœ¨å¼€å§‹æ„å»ºDockeré•œåƒï¼š</span><br><span class="line"></span><br><span class="line">  ğŸš€ å¼€å§‹æ„å»ºDockeré•œåƒ</span><br><span class="line"></span><br><span class="line">  å¤åˆ¶å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</span><br><span class="line"></span><br><span class="line">  docker build -t openharmony-server:latest .</span><br><span class="line"></span><br><span class="line">  è¿™ä¸ªå‘½ä»¤ä¼šï¼š</span><br><span class="line">  - è¯»å–å½“å‰ç›®å½•çš„ Dockerfile</span><br><span class="line">  - ä¸‹è½½PythonåŸºç¡€é•œåƒ</span><br><span class="line">  - å®‰è£…ç³»ç»Ÿä¾èµ–å’ŒPythonåŒ…</span><br><span class="line">  - æ„å»ºå®Œæ•´çš„åº”ç”¨é•œåƒ</span><br><span class="line"></span><br><span class="line">  æ„å»ºè¿‡ç¨‹å¤§çº¦éœ€è¦5-10åˆ†é’Ÿï¼Œä½ ä¼šçœ‹åˆ°å¾ˆå¤šè¾“å‡ºä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š</span><br><span class="line">  - ä¸‹è½½é•œåƒå±‚</span><br><span class="line">  - å®‰è£…ç³»ç»ŸåŒ…</span><br><span class="line">  - å®‰è£…Pythonä¾èµ–</span><br><span class="line">  - å¤åˆ¶åº”ç”¨ä»£ç </span><br><span class="line"></span><br><span class="line">  æ„å»ºå®Œæˆåä¼šæ˜¾ç¤ºç±»ä¼¼ï¼š</span><br><span class="line">  Successfully built [é•œåƒID]</span><br><span class="line">  Successfully tagged openharmony-server:latest</span><br><span class="line"></span><br><span class="line">  ç°åœ¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œæˆ‘ç­‰ä½ çš„æ„å»ºç»“æœï¼ ğŸ¯</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/XBXyftx">XBXyftx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://xbxyftx.top">https://xbxyftx.top</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æ­¤æ–‡ç« ç‰ˆæƒå½’XBXyftxæ‰€æœ‰ï¼Œå¦‚æœ‰è½¬è½½ï¼Œè¯·è¨»æ˜æ¥è‡ªåŸä½œè€…</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8A%80%E6%9C%AF%E5%90%91/">æŠ€æœ¯å‘</a><a class="post-meta__tags" href="/tags/%E9%B8%BF%E8%92%99/">é¸¿è’™</a><a class="post-meta__tags" href="/tags/%E9%A1%B9%E7%9B%AE/">é¡¹ç›®</a><a class="post-meta__tags" href="/tags/%E5%BC%80%E6%BA%90%E4%B9%8B%E5%A4%8F/">å¼€æºä¹‹å¤</a><a class="post-meta__tags" href="/tags/NowInOpenHarmony/">NowInOpenHarmony</a></div><div class="post-share"><div class="social-share" data-image="/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/09/27/AITrainingCamp2/" title="AITrainingCamp2"><img class="cover" src="/imgs/ArticleTopImgs/AITrainingCampTopImg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">AITrainingCamp2</div></div><div class="info-2"><div class="info-item-1">ç†Ÿç»ƒä½¿ç”¨CCäº†ï¼Œè¯¥å¼€å§‹å¤§å±•èº«æ‰‹äº†ï¼</div></div></div></a><a class="pagination-related" href="/2025/09/29/ProgrammingTips/" title="ç¼–ç¨‹å°çŸ¥è¯†ç‚¹"><img class="cover" src="/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">ç¼–ç¨‹å°çŸ¥è¯†ç‚¹</div></div><div class="info-2"><div class="info-item-1">NowInOpenHarmonyä¸Šæ¶ç¬”è®°</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/06/29/OpenSourceSummer2025/" title="å¼€æºä¹‹å¤NowInOpenHarmony"><img class="cover" src="/imgs/ArticleTopImgs/OpenSourceSummerTopImg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-29</div><div class="info-item-2">å¼€æºä¹‹å¤NowInOpenHarmony</div></div><div class="info-2"><div class="info-item-1">å¼€æºä¹‹å¤2025é¡¹ç›®å¼€å‘ç¬”è®°</div></div></div></a><a class="pagination-related" href="/2025/03/31/%E2%80%9CHongXiaoYi%E2%80%9D/" title="é¸¿å°æ˜“é¡¹ç›®å¼€å‘ç¬”è®°"><img class="cover" src="/imgs/ArticleTopImgs/hxyTopImg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-31</div><div class="info-item-2">é¸¿å°æ˜“é¡¹ç›®å¼€å‘ç¬”è®°</div></div><div class="info-2"><div class="info-item-1">é¸¿å°æ˜“ï¼Œä½ çš„é¸¿è’™å¼€å‘å¥½å¸®æ‰‹ã€‚</div></div></div></a><a class="pagination-related" href="/2025/03/11/MianShiTong2/" title="é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°2"><img class="cover" src="/imgs/ArticleTopImgs/MSTTopImg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-11</div><div class="info-item-2">é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°2</div></div><div class="info-2"><div class="info-item-1">é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°2ï¼ˆæš‚æ—¶åœæ›´ï¼‰</div></div></div></a><a class="pagination-related" href="/2025/02/27/MianShiTong/" title="é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°"><img class="cover" src="/imgs/ArticleTopImgs/MSTTopImg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-27</div><div class="info-item-2">é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°</div></div><div class="info-2"><div class="info-item-1">é¢è¯•é€šé¡¹ç›®å¼€å‘ç¬”è®°</div></div></div></a><a class="pagination-related" href="/2025/02/08/%E6%88%91%E7%9A%84%E4%B9%A6%E6%9E%B6%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" title="æˆ‘çš„ä¹¦æ¶é¡¹ç›®ç¬”è®°"><img class="cover" src="/imgs/ArticleTopImgs/BookShelfTopImg.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-08</div><div class="info-item-2">æˆ‘çš„ä¹¦æ¶é¡¹ç›®ç¬”è®°</div></div><div class="info-2"><div class="info-item-1">ä¸€ä¸ªå¯¹åˆ©ç”¨NetWork Kitå‘é€HTTPè¯·æ±‚çš„å®æˆ˜ç»ƒä¹ é¡¹ç›®</div></div></div></a><a class="pagination-related" href="/2025/01/30/%E5%BC%80%E5%BF%83%E4%B8%80%E7%AC%91%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" title="å¼€å¿ƒä¸€ç¬‘é¡¹ç›®ç¬”è®°"><img class="cover" src="/imgs/ArticleTopImgs/JokeTopImg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-30</div><div class="info-item-2">å¼€å¿ƒä¸€ç¬‘é¡¹ç›®ç¬”è®°</div></div><div class="info-2"><div class="info-item-1">ä¸‹æ‹‰åˆ·æ–°ä¸è§¦åº•åŠ è½½é€»è¾‘çš„ç»ƒä¹ é¡¹ç›®</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">XBXyftx</div><div class="author-info-description">åšå®‰åƒå¤æƒ…å¦‚æ­¤<br/>ç’‡ç‰å¦‚åè‡ªé†‰ä»</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/XBXyftx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/XBXyftx" target="_blank" title="Github"><i class="fab fa-github" style="color: #c3ffff;"></i></a><a class="social-icon" href="mailto:shuaixbx02@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="/img/wechat.png" target="_blank" title="WeChat"><i class="fa-brands fa-weixin" style="color: #7bb342;"></i></a></div></div><div class="card-widget card-info visitor-info"><div class="card-content"><div class="visitor-welcome"><i class="fas fa-heart"></i><span id="visitor-text">æ¬¢è¿æ¥è®¿ï¼</span></div><div class="visitor-details"><div class="visitor-location"><i class="fas fa-map-marker-alt"></i><span id="visitor-location-text">æ­£åœ¨è·å–ä½ç½®ä¿¡æ¯...</span></div><div class="visitor-ip"><i class="fas fa-globe"></i><span>IPåœ°å€: </span><span id="visitor-ip-text">è·å–ä¸­...</span></div><div class="visitor-distance"><i class="fas fa-route"></i><span id="visitor-distance-text">è·ç¦»åšä¸» åŠ è½½ä¸­...</span></div><div class="visitor-tip"><i class="fas fa-moon"></i><span id="visitor-tip-text">æ™šä¸Šå¥½ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼</span></div></div></div><script>// è®¿é—®è€…ä¿¡æ¯è·å–
(function() {
  // IPåœ°å€è·å–APIåˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
  const ipApis = [
    'https://api.ip.sb/geoip',
    'https://ipapi.co/json/',
    'https://freegeoip.app/json/',
    'https://ipinfo.io/json'
  ];
  
  let currentApiIndex = 0;
  
  function tryGetLocation() {
    if (currentApiIndex >= ipApis.length) {
      // æ‰€æœ‰APIéƒ½å¤±è´¥äº†ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
      handleError('æ‰€æœ‰IPæœåŠ¡éƒ½æ— æ³•è®¿é—®');
      return;
    }
    
    const currentApi = ipApis[currentApiIndex];
    
    fetch(currentApi)
      .then(response => {
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        return response.json();
      })
      .then(data => {
        processLocationData(data, currentApi);
      })
      .catch(error => {
        console.warn(`API ${currentApi} å¤±è´¥:`, error);
        currentApiIndex++;
        setTimeout(tryGetLocation, 1000); // 1ç§’åå°è¯•ä¸‹ä¸€ä¸ªAPI
      });
  }
  
  function processLocationData(data, apiUrl) {
    let country, region, city, ip, latitude, longitude;
    
    // æ ¹æ®ä¸åŒAPIæ ¼å¼å¤„ç†æ•°æ®
    if (apiUrl.includes('ip.sb')) {
      country = data.country || 'æœªçŸ¥';
      region = data.region || 'æœªçŸ¥';
      city = data.city || 'æœªçŸ¥';
      ip = data.ip || 'æœªçŸ¥';
      latitude = data.latitude;
      longitude = data.longitude;
    } else if (apiUrl.includes('ipapi.co')) {
      country = data.country_name || 'æœªçŸ¥';
      region = data.region || 'æœªçŸ¥';
      city = data.city || 'æœªçŸ¥';
      ip = data.ip || 'æœªçŸ¥';
      latitude = data.latitude;
      longitude = data.longitude;
    } else if (apiUrl.includes('freegeoip.app')) {
      country = data.country_name || 'æœªçŸ¥';
      region = data.region_name || 'æœªçŸ¥';
      city = data.city || 'æœªçŸ¥';
      ip = data.ip || 'æœªçŸ¥';
      latitude = data.latitude;
      longitude = data.longitude;
    } else if (apiUrl.includes('ipinfo.io')) {
      country = data.country || 'æœªçŸ¥';
      const loc = data.region || 'æœªçŸ¥';
      region = loc;
      city = data.city || 'æœªçŸ¥';
      ip = data.ip || 'æœªçŸ¥';
      if (data.loc) {
        const coords = data.loc.split(',');
        latitude = parseFloat(coords[0]);
        longitude = parseFloat(coords[1]);
      }
    }
    
    // æ›´æ–°IPåœ°å€
    document.getElementById('visitor-ip-text').textContent = ip;
    
    // æ›´æ–°ä½ç½®ä¿¡æ¯å’Œæ¬¢è¿æ–‡å­—
    let locationText = '';
    if (country === 'ä¸­å›½' || country === 'China' || country === 'CN') {
      locationText = `${region} ${city}`;
                    document.getElementById('visitor-text').innerHTML = `æ¬¢è¿æ¥è‡ª ${region} ${city} çš„æœ‹å‹â™¥ï¸`;
    } else {
      locationText = `${country} ${region}`;
      document.getElementById('visitor-text').innerHTML = `æ¬¢è¿æ¥è‡ª ${country} çš„æœ‹å‹â™¥ï¸`;
    }
    document.getElementById('visitor-location-text').textContent = locationText;
    
    // è®¡ç®—è·ç¦»ï¼ˆå¯é…ç½®åšä¸»ä½ç½®ï¼‰
    if (latitude && longitude && !isNaN(latitude) && !isNaN(longitude)) {
      const bloggerLat = 39.9042; // åŒ—äº¬çº¬åº¦
      const bloggerLng = 116.4074; // åŒ—äº¬ç»åº¦
      const distance = calculateDistance(latitude, longitude, bloggerLat, bloggerLng);
      
      if (distance < 1) {
        document.getElementById('visitor-distance-text').textContent = `è·ç¦»åšä¸» ${(distance * 1000).toFixed(0)} ç±³ï¼`;
      } else if (distance < 100) {
        document.getElementById('visitor-distance-text').textContent = `è·ç¦»åšä¸» ${distance.toFixed(1)} å…¬é‡Œï¼`;
      } else {
        document.getElementById('visitor-distance-text').textContent = `è·ç¦»åšä¸» ${distance.toFixed(0)} å…¬é‡Œï¼`;
      }
    } else {
      document.getElementById('visitor-distance-text').textContent = 'è·ç¦»è®¡ç®—ä¸­...';
    }
    
    // æ ¹æ®æ—¶é—´è®¾ç½®é—®å€™è¯­
    updateGreeting();
  }
  
  function updateGreeting() {
    const now = new Date();
    const hour = now.getHours();
    let greeting = '';
    let icon = 'fas fa-sun';
    
    if (hour >= 6 && hour < 12) {
      greeting = 'ä¸Šåˆå¥½ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹äº†ï¼';
      icon = 'fas fa-sun';
    } else if (hour >= 12 && hour < 14) {
      greeting = 'ä¸­åˆå¥½ï¼Œè®°å¾—åƒåˆé¥­å“¦ï¼';
      icon = 'fas fa-sun';
    } else if (hour >= 14 && hour < 18) {
      greeting = 'ä¸‹åˆå¥½ï¼Œåˆåæ—¶å…‰çœŸç¾å¥½ï¼';
      icon = 'fas fa-cloud-sun';
    } else if (hour >= 18 && hour < 22) {
      greeting = 'æ™šä¸Šå¥½ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼';
      icon = 'fas fa-moon';
    } else {
      greeting = 'æ·±å¤œäº†ï¼Œæ³¨æ„ä¼‘æ¯å“¦ï¼';
      icon = 'fas fa-moon';
    }
    
    const tipElement = document.getElementById('visitor-tip-text');
    const tipIcon = tipElement.parentElement.querySelector('i');
    tipElement.textContent = greeting;
    if (tipIcon) {
      tipIcon.className = icon;
    }
  }
  
  function handleError(message) {
    document.getElementById('visitor-ip-text').textContent = 'è·å–å¤±è´¥';
    document.getElementById('visitor-location-text').textContent = 'è·å–å¤±è´¥';
    document.getElementById('visitor-distance-text').textContent = 'è·ç¦»æœªçŸ¥';
    document.getElementById('visitor-text').innerHTML = 'æ¬¢è¿æ¥è®¿ï¼';
    console.error('è·å–è®¿é—®è€…ä¿¡æ¯å¤±è´¥:', message);
  }
  
  // è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»çš„å‡½æ•°ï¼ˆä½¿ç”¨Haversineå…¬å¼ï¼‰
  function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // åœ°çƒåŠå¾„ï¼Œå•ä½ï¼šåƒç±³
    const dLat = deg2rad(lat2 - lat1);
    const dLon = deg2rad(lon2 - lon1);
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
              Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
  }
  
  function deg2rad(deg) {
    return deg * (Math.PI/180);
  }
  
  // å¯åŠ¨è·å–ä½ç½®ä¿¡æ¯
  tryGetLocation();
  
  // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡é—®å€™è¯­
  setInterval(updateGreeting, 60000);
})(); </script></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">çƒ­çƒˆåº†ç¥é¸¿è’™äº”ç»ˆç«¯æ•°é‡çªç ´ä¸¤åƒä¸‡ï¼ï¼ï¼<br/><img src="/imgs/HM5.jpg" title="1748944170064.jpg" class="announcementImg"/></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NowInOpenHarmony%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">NowInOpenHarmonyé¡¹ç›®ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2"><span class="toc-number">3.</span> <span class="toc-text">åç«¯çš„æœåŠ¡å™¨éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%AE%9E%E7%8E%B0%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">3.1.</span> <span class="toc-text">éœ€æ±‚å®ç°è§„èŒƒåŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#issue%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.1.</span> <span class="toc-text">issueåˆ›å»º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%88%86%E6%94%AF%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.2.</span> <span class="toc-text">æ–°åˆ†æ”¯çš„åˆ›å»º</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker%E7%9A%84%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">dockerçš„æœ¬åœ°é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8ECC%E7%9A%84%E7%AC%AC%E4%B8%80%E8%BD%AE%E5%AF%B9%E8%AF%9D"><span class="toc-number">3.2.1.</span> <span class="toc-text">ä¸CCçš„ç¬¬ä¸€è½®å¯¹è¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AE%E8%AE%A4Ubuntu%E7%8E%AF%E5%A2%83"><span class="toc-number">3.2.2.</span> <span class="toc-text">ç¡®è®¤Ubuntuç¯å¢ƒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%87%86%E5%A4%87"><span class="toc-number">3.3.</span> <span class="toc-text">æœåŠ¡å™¨ç«¯å‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Docker"><span class="toc-number">3.3.1.</span> <span class="toc-text">å®‰è£…Docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%95%86%E5%BA%97%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">3.3.2.</span> <span class="toc-text">åº”ç”¨å•†åº—çš„é€‰æ‹©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tar%E6%A0%BC%E5%BC%8F%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.3.3.</span> <span class="toc-text">taræ ¼å¼è¯¦è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA"><span class="toc-number">3.3.4.</span> <span class="toc-text">é•œåƒåˆ›å»º</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/29/ProgrammingTips/" title="ç¼–ç¨‹å°çŸ¥è¯†ç‚¹"><img src="/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¼–ç¨‹å°çŸ¥è¯†ç‚¹"/></a><div class="content"><a class="title" href="/2025/09/29/ProgrammingTips/" title="ç¼–ç¨‹å°çŸ¥è¯†ç‚¹">ç¼–ç¨‹å°çŸ¥è¯†ç‚¹</a><time datetime="2025-09-29T06:29:20.000Z" title="å‘è¡¨äº 2025-09-29 14:29:20">2025-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/27/NowInOpenHarmonyPutaway/" title="NowInOpenHarmonyä¸Šæ¶ç¬”è®°"><img src="/imgs/ArticleTopImgs/NowInOpenHarmonyPutawayTopImg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NowInOpenHarmonyä¸Šæ¶ç¬”è®°"/></a><div class="content"><a class="title" href="/2025/09/27/NowInOpenHarmonyPutaway/" title="NowInOpenHarmonyä¸Šæ¶ç¬”è®°">NowInOpenHarmonyä¸Šæ¶ç¬”è®°</a><time datetime="2025-09-27T09:02:05.000Z" title="å‘è¡¨äº 2025-09-27 17:02:05">2025-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/27/AITrainingCamp2/" title="AITrainingCamp2"><img src="/imgs/ArticleTopImgs/AITrainingCampTopImg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AITrainingCamp2"/></a><div class="content"><a class="title" href="/2025/09/27/AITrainingCamp2/" title="AITrainingCamp2">AITrainingCamp2</a><time datetime="2025-09-27T07:11:48.000Z" title="å‘è¡¨äº 2025-09-27 15:11:48">2025-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/AITrainingCamp/" title="AITrainingCamp"><img src="/imgs/ArticleTopImgs/AITrainingCampTopImg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AITrainingCamp"/></a><div class="content"><a class="title" href="/2025/09/13/AITrainingCamp/" title="AITrainingCamp">AITrainingCamp</a><time datetime="2025-09-13T06:12:42.000Z" title="å‘è¡¨äº 2025-09-13 14:12:42">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/11/CodeInspiration/" title="ç”±å•å‘ç¼–ç¨‹èµ°å‘å¤šå‘ç¼–ç¨‹"><img src="/imgs/ArticleTopImgs/CodeInspirationTopImg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç”±å•å‘ç¼–ç¨‹èµ°å‘å¤šå‘ç¼–ç¨‹"/></a><div class="content"><a class="title" href="/2025/09/11/CodeInspiration/" title="ç”±å•å‘ç¼–ç¨‹èµ°å‘å¤šå‘ç¼–ç¨‹">ç”±å•å‘ç¼–ç¨‹èµ°å‘å¤šå‘ç¼–ç¨‹</a><time datetime="2025-09-11T07:26:54.000Z" title="å‘è¡¨äº 2025-09-11 15:26:54">2025-09-11</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/footerBg.png);"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By XBXyftx</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index"><span>å¤‡æ¡ˆå·ï¼šäº¬ICPå¤‡2025126467å·</span></a></div><div></div><span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now = new Date(); 
function createtime() { 
var grt = new Date("4/25/2024 18:30"); // åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
now.setTime(now.getTime() + 250); 
days = (now - grt) / 1000 / 60 / 60 / 24; 
dnum = Math.floor(days); 
hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum); 
hnum = Math.floor(hours); 
if (String(hnum).length == 1) { hnum = "0" + hnum; } 
minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum); 
mnum = Math.floor(minutes); 
if (String(mnum).length == 1) { mnum = "0" + mnum; } 
seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
snum = Math.round(seconds); 
if (String(snum).length == 1) { snum = "0" + snum; } 
document.getElementById("timeDate").innerHTML = "æœ¬ç½‘ç«™å·²è¿è¡Œ " + dnum + " å¤© "; 
document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
} 
setInterval(createtime, 250);</script></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="å‰å¾€è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa-solid fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa-solid fa-arrow-rotate-right"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa-solid fa-arrow-right"></i></a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;"><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa-solid fa-copy"></i><span>å¤åˆ¶</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa-solid fa-book"></i><span>é˜…è¯»æ¨¡å¼</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><!-- ç€‘å¸ƒæµJavaScript - åªåœ¨é¦–é¡µåŠ è½½--><!-- æ–‡ç« æ‰“å­—æœºæ•ˆæœ - åªåœ¨æ–‡ç« é¡µé¢åŠ è½½--><script src="/js/typewriter-effect.js"></script><!-- ç½‘ç»œç›‘æ§å™¨ - å¸®åŠ©å®šä½503é—®é¢˜--><script src="/js/network-monitor.js"></script><script src="/js/topimg-monitor.js"></script><!-- å…¥åœºå¼¹çª—åŠŸèƒ½--><script src="/js/entrance-popup-config.js"></script><script src="/js/entrance-popup.js"></script><!-- åŸºç¡€æ‡’åŠ è½½åŠŸèƒ½--><script src="/js/lazy-loading.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikooxbx.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikooxbx.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('/js/twikoo.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>localStorage.setItem('theme','dark')</script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script> // å¼ºåˆ¶é”å®šä¸ºæš—é»‘æ¨¡å¼ localStorage.setItem('theme', 'dark'); // é˜²æ­¢å…¶ä»–è„šæœ¬è¦†ç›–æ¨¡å¼ document.documentElement.setAttribute('data-theme', 'dark'); </script><link rel="stylesheet" href="/css/styles.css"><script> document.querySelectorAll('#post-comment).forEach(el => { el.style.backgroundColor = 'rgba(255, 255, 255, 0.6)'; }); </script><script src="/js/jquery-3.6.0.min.js"></script><script src="/js/rightmenu.js"></script><link rel="twikoo" href="/css/twikoo.css"><script src="/js/happy-title.js" async></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="/%5Bobject%20Object%5D"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="99" count="99" mobile="true" src="/%5Bobject%20Object%5D"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementsByClassName('recent-posts')[0];
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/06/24/typewriter/" alt=""><img width="48" height="48" src="/imgs/ArticleTopImgs/TypeWriteTopImg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-06-24</span><a class="blog-slider__title" href="2025/06/24/typewriter/" alt="">Butterflyä¸»é¢˜å®ç°ç®€ä»‹æ‰“å­—æœº</a><div class="blog-slider__text">è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Hexoçš„Butterflyä¸»é¢˜ä¸­æ·»åŠ ç‚«é…·çš„æ‰“å­—æœºæ•ˆæœï¼ŒåŒ…å«å®Œæ•´çš„å®ç°ä»£ç å’Œé…ç½®æ–¹æ³•ã€‚</div><a class="blog-slider__button" href="2025/06/24/typewriter/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/04/30/ToTheApril2025/" alt=""><img width="48" height="48" src="/imgs/ArticleTopImgs/AprilTopImg.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-30</span><a class="blog-slider__title" href="2025/04/30/ToTheApril2025/" alt="">è‡´2025é‚£ä¸ªç¹å¿™çš„4æœˆ</a><div class="blog-slider__text">äººä»¬æ€»æ˜¯åŒ†åŒ†å‘å‰ï¼Œæ®Šä¸çŸ¥æ—¶å…‰æ˜“é€å•Šâ€¦â€¦ï¼ˆæœ¬æ–‡å›¾é‡è¾ƒå¤§åŠ è½½è¾ƒæ…¢æŒç»­æ›´æ–°ä¸­ï¼ï¼ï¼ï¼‰</div><a class="blog-slider__button" href="2025/04/30/ToTheApril2025/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/16/yiDuo/" alt=""><img width="48" height="48" src="/imgs/ArticleTopImgs/yiduoTopImg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-16</span><a class="blog-slider__title" href="2025/03/16/yiDuo/" alt="">å…³äºé¸¿è’™çš„ä¸€å¤šèƒ½åŠ›</a><div class="blog-slider__text">ä¸€å¤šèƒ½åŠ›çš„å­¦ä¹ ç¬”è®°</div><a class="blog-slider__button" href="2025/03/16/yiDuo/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/04/V2/" alt=""><img width="48" height="48" src="/imgs/ArticleTopImgs/V2TopImg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-04</span><a class="blog-slider__title" href="2025/02/04/V2/" alt="">æµ…è°ˆé¸¿è’™çŠ¶æ€ç®¡ç†V1â€”â€”&gt;V2</a><div class="blog-slider__text">ç”¨å®é™…ä»£ç æµ‹è¯•ä¸æˆ‘çš„å¼€å‘ç»éªŒï¼Œè§£æé¸¿è’™çŠ¶æ€ç®¡ç†V2ä¸­éš¾ä»¥ç†è§£çš„å†…å®¹ï¼Œå¸®åŠ©å¼€å‘è€…ä»¬æ›´å¥½çš„ç†è§£å’Œä½¿ç”¨çŠ¶æ€ç®¡ç†V2ç‰ˆæœ¬ã€‚</div><a class="blog-slider__button" href="2025/02/04/V2/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/04/20/RemoteCommunication/" alt=""><img width="48" height="48" src="/imgs/ArticleTopImgs/RCPTopImg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-20</span><a class="blog-slider__title" href="2025/04/20/RemoteCommunication/" alt="">è¿œåœºé€šä¿¡æœåŠ¡</a><div class="blog-slider__text">æœ¬æ–‡å°†ä»‹ç»é¸¿è’™è¿œåœºé€šä¿¡æœåŠ¡</div><a class="blog-slider__button" href="2025/04/20/RemoteCommunication/" alt="">è¯¦æƒ…   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --></body></html>